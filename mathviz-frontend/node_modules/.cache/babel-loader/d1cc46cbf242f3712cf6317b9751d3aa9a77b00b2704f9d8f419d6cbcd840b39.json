{"ast":null,"code":"var _jsxFileName = \"/Users/sorour/workspace/Logikos/mathviz-frontend/src/components/SolutionDisplay.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport 'katex/dist/katex.min.css';\nimport { InlineMath, BlockMath } from 'react-katex';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SolutionContainer = styled(motion.div)`\n  background: #f9fafb;\n  border-radius: 16px;\n  padding: 1.5rem;\n  margin: 1rem 0;\n  border: 1px solid rgba(0, 0, 0, 0.05);\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);\n`;\n_c = SolutionContainer;\nconst FinalAnswer = styled(motion.div)`\n  background: linear-gradient(135deg, #10b981 0%, #059669 100%);\n  color: white;\n  padding: 1rem 1.5rem;\n  border-radius: 12px;\n  margin-bottom: 1.5rem;\n  font-weight: 600;\n  font-size: 1.1rem;\n  box-shadow: 0 8px 24px rgba(16, 185, 129, 0.3);\n  display: flex;\n  align-items: center;\n  \n    &::before {\n    content: \"\";\n  }\n`;\n_c2 = FinalAnswer;\nconst StepsHeader = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 1rem;\n  cursor: pointer;\n  padding: 0.5rem;\n  border-radius: 8px;\n  transition: background-color 0.2s ease;\n  \n  &:hover {\n    background: rgba(0, 0, 0, 0.02);\n  }\n`;\n_c3 = StepsHeader;\nconst StepsTitle = styled.h3`\n  font-weight: 600;\n  font-size: 1rem;\n  color: #374151;\n  margin: 0;\n  display: flex;\n  align-items: center;\n  \n  &::before {\n    content: \"üìù\";\n    margin-right: 0.5rem;\n  }\n`;\n_c4 = StepsTitle;\nconst ExpandButton = styled(motion.button)`\n  background: none;\n  border: none;\n  color: #6366f1;\n  font-weight: 600;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.9rem;\n  \n  &::after {\n    content: \"${props => props.isExpanded ? '‚ñ≤' : '‚ñº'}\";\n    transition: transform 0.2s ease;\n  }\n`;\n_c5 = ExpandButton;\nconst StepsContainer = styled(motion.div)`\n  overflow: hidden;\n`;\n_c6 = StepsContainer;\nconst StepCard = styled(motion.div)`\n  background: white;\n  border: 1px solid rgba(0, 0, 0, 0.08);\n  border-radius: 12px;\n  padding: 1rem;\n  margin-bottom: 0.75rem;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);\n  transition: all 0.2s ease;\n  \n  &:hover {\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);\n    transform: translateY(-1px);\n  }\n  \n  &:last-child {\n    margin-bottom: 0;\n  }\n`;\n_c7 = StepCard;\nconst StepTitle = styled.div`\n  font-weight: 600;\n  color: #1f2937;\n  font-size: 0.95rem;\n  margin-bottom: 0.5rem;\n  display: flex;\n  align-items: center;\n  \n  &::before {\n    content: counter(step-counter);\n    counter-increment: step-counter;\n    background: #6366f1;\n    color: white;\n    width: 24px;\n    height: 24px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 0.8rem;\n    font-weight: 600;\n    margin-right: 0.75rem;\n    flex-shrink: 0;\n  }\n`;\n_c8 = StepTitle;\nconst RuleFormula = styled.div`\n  background: #eff6ff;\n  color: #1e40af;\n  padding: 0.5rem 0.75rem;\n  border-radius: 8px;\n  font-size: 0.85rem;\n  font-family: 'JetBrains Mono', monospace;\n  margin: 0.5rem 0;\n  border-left: 3px solid #3b82f6;\n`;\n_c9 = RuleFormula;\nconst MathTransformation = styled.div`\n  background: #f3f4f6;\n  padding: 0.75rem;\n  border-radius: 10px;\n  font-family: 'JetBrains Mono', monospace;\n  font-size: 0.9rem;\n  margin: 0.5rem 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 1rem;\n  flex-wrap: wrap;\n`;\n_c0 = MathTransformation;\nconst MathExpression = styled.div`\n  display: flex;\n  align-items: center;\n  padding: 0.5rem;\n  background: white;\n  border-radius: 6px;\n  border: 1px solid rgba(0, 0, 0, 0.05);\n`;\n_c1 = MathExpression;\nconst Arrow = styled.div`\n  color: #6366f1;\n  font-weight: bold;\n  font-size: 1.2rem;\n`;\n_c10 = Arrow;\nconst StepExplanation = styled.div`\n  color: #6b7280;\n  font-size: 0.85rem;\n  line-height: 1.4;\n  font-style: italic;\n  margin-top: 0.5rem;\n  padding: 0.5rem;\n  background: rgba(107, 114, 128, 0.05);\n  border-radius: 6px;\n`;\n_c11 = StepExplanation;\nconst StepCounter = styled.div`\n  counter-reset: step-counter;\n`;\n_c12 = StepCounter;\nconst isLegacyStep = step => {\n  return 'step_id' in step && 'description' in step;\n};\nconst formatMathExpression = expr => {\n  if (!expr) return '';\n\n  // Convert common math notation to LaTeX\n  return expr.replace(/\\^(\\d+)/g, '^{$1}').replace(/\\^([a-zA-Z]+)/g, '^{$1}').replace(/sqrt\\(([^)]+)\\)/g, '\\\\sqrt{$1}').replace(/\\bpi\\b/g, '\\\\pi').replace(/\\binfinity\\b/g, '\\\\infty').replace(/\\*/g, '\\\\cdot').replace(/\\+-/g, '\\\\pm');\n};\nconst SafeMath = ({\n  children,\n  block = false\n}) => {\n  try {\n    const formatted = formatMathExpression(children);\n    return block ? /*#__PURE__*/_jsxDEV(BlockMath, {\n      children: formatted\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 20\n    }, this) : /*#__PURE__*/_jsxDEV(InlineMath, {\n      children: formatted\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 57\n    }, this);\n  } catch (error) {\n    // Fallback to plain text if LaTeX parsing fails\n    return /*#__PURE__*/_jsxDEV(\"code\", {\n      style: {\n        fontFamily: 'JetBrains Mono, monospace'\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 12\n    }, this);\n  }\n};\n_c13 = SafeMath;\nexport const SolutionDisplay = ({\n  solution\n}) => {\n  _s();\n  const [isExpanded, setIsExpanded] = useState(true);\n  const formatFinalAnswer = answer => {\n    if (typeof answer === 'object' && answer !== null) {\n      if (answer.solutions) {\n        return `x = ${JSON.stringify(answer.solutions)}`;\n      } else if (answer.derivative) {\n        return `f'(x) = ${answer.derivative}`;\n      } else if (answer.integral) {\n        return `‚à´f(x)dx = ${answer.integral} + C`;\n      } else if (answer.type === 'derivative') {\n        return `f'(x) = ${answer.derivative || 'N/A'}`;\n      } else if (answer.type === 'algebraic_solution' && answer.solutions) {\n        const solutions = answer.solutions;\n        return Object.entries(solutions).map(([k, v]) => `${k} = ${v}`).join(', ');\n      }\n      return JSON.stringify(answer);\n    }\n    return String(answer);\n  };\n  const renderStep = (step, index) => {\n    if (isLegacyStep(step)) {\n      var _step$input_state, _step$output_state;\n      // Handle new detailed format\n      const operation = step.operation.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n      const description = step.reasoning || step.description;\n      const ruleFormula = step.rule_formula;\n      const beforeExpr = ((_step$input_state = step.input_state) === null || _step$input_state === void 0 ? void 0 : _step$input_state.expression) || '';\n      const afterExpr = ((_step$output_state = step.output_state) === null || _step$output_state === void 0 ? void 0 : _step$output_state.expression) || '';\n      return /*#__PURE__*/_jsxDEV(StepCard, {\n        initial: {\n          opacity: 0,\n          y: 10\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        transition: {\n          delay: index * 0.1\n        },\n        children: [/*#__PURE__*/_jsxDEV(StepTitle, {\n          children: operation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), ruleFormula && /*#__PURE__*/_jsxDEV(RuleFormula, {\n          children: /*#__PURE__*/_jsxDEV(SafeMath, {\n            children: ruleFormula\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this), beforeExpr && afterExpr && beforeExpr !== afterExpr && /*#__PURE__*/_jsxDEV(MathTransformation, {\n          children: [/*#__PURE__*/_jsxDEV(MathExpression, {\n            children: /*#__PURE__*/_jsxDEV(SafeMath, {\n              children: beforeExpr\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Arrow, {\n            children: \"\\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(MathExpression, {\n            children: /*#__PURE__*/_jsxDEV(SafeMath, {\n              children: afterExpr\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(StepExplanation, {\n          children: description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this)]\n      }, step.step_id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this);\n    } else {\n      // Handle legacy format\n      return /*#__PURE__*/_jsxDEV(StepCard, {\n        initial: {\n          opacity: 0,\n          y: 10\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        transition: {\n          delay: index * 0.1\n        },\n        children: [/*#__PURE__*/_jsxDEV(StepTitle, {\n          children: step.rule_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this), step.rule_formula && /*#__PURE__*/_jsxDEV(RuleFormula, {\n          children: /*#__PURE__*/_jsxDEV(SafeMath, {\n            children: step.rule_formula\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }, this), step.before_expression && step.after_expression && /*#__PURE__*/_jsxDEV(MathTransformation, {\n          children: [/*#__PURE__*/_jsxDEV(MathExpression, {\n            children: step.latex_before ? /*#__PURE__*/_jsxDEV(SafeMath, {\n              children: step.latex_before\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(SafeMath, {\n              children: step.before_expression\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Arrow, {\n            children: \"\\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(MathExpression, {\n            children: step.latex_after ? /*#__PURE__*/_jsxDEV(SafeMath, {\n              children: step.latex_after\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(SafeMath, {\n              children: step.after_expression\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(StepExplanation, {\n          children: step.explanation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(SolutionContainer, {\n    initial: {\n      opacity: 0,\n      scale: 0.95\n    },\n    animate: {\n      opacity: 1,\n      scale: 1\n    },\n    transition: {\n      type: \"spring\",\n      stiffness: 300,\n      damping: 30\n    },\n    children: [solution.final_answer && /*#__PURE__*/_jsxDEV(FinalAnswer, {\n      initial: {\n        opacity: 0,\n        x: -20\n      },\n      animate: {\n        opacity: 1,\n        x: 0\n      },\n      transition: {\n        delay: 0.2\n      },\n      children: /*#__PURE__*/_jsxDEV(SafeMath, {\n        children: formatFinalAnswer(solution.final_answer)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 9\n    }, this), (solution.solution_steps || solution.steps) && (solution.solution_steps || solution.steps).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(StepsHeader, {\n        onClick: () => setIsExpanded(!isExpanded),\n        children: [/*#__PURE__*/_jsxDEV(StepsTitle, {\n          children: [\"Step-by-Step Solution (\", (solution.solution_steps || solution.steps).length, \" steps)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ExpandButton, {\n          isExpanded: isExpanded,\n          whileHover: {\n            scale: 1.05\n          },\n          whileTap: {\n            scale: 0.95\n          },\n          children: isExpanded ? 'Hide steps' : 'Show steps'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n        children: isExpanded && /*#__PURE__*/_jsxDEV(StepsContainer, {\n          initial: {\n            opacity: 0,\n            height: 0\n          },\n          animate: {\n            opacity: 1,\n            height: 'auto'\n          },\n          exit: {\n            opacity: 0,\n            height: 0\n          },\n          transition: {\n            duration: 0.3\n          },\n          children: /*#__PURE__*/_jsxDEV(StepCounter, {\n            children: [(solution.solution_steps || solution.steps).slice(0, 10).map((step, index) => renderStep(step, index)), (solution.solution_steps || solution.steps).length > 10 && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: 'center',\n                color: '#6b7280',\n                fontSize: '0.85rem',\n                marginTop: '1rem',\n                fontStyle: 'italic'\n              },\n              children: [\"+ \", (solution.solution_steps || solution.steps).length - 10, \" more steps available\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 322,\n    columnNumber: 5\n  }, this);\n};\n_s(SolutionDisplay, \"MzqrZ0LJxgqPa6EOF1Vxw0pgYA4=\");\n_c14 = SolutionDisplay;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14;\n$RefreshReg$(_c, \"SolutionContainer\");\n$RefreshReg$(_c2, \"FinalAnswer\");\n$RefreshReg$(_c3, \"StepsHeader\");\n$RefreshReg$(_c4, \"StepsTitle\");\n$RefreshReg$(_c5, \"ExpandButton\");\n$RefreshReg$(_c6, \"StepsContainer\");\n$RefreshReg$(_c7, \"StepCard\");\n$RefreshReg$(_c8, \"StepTitle\");\n$RefreshReg$(_c9, \"RuleFormula\");\n$RefreshReg$(_c0, \"MathTransformation\");\n$RefreshReg$(_c1, \"MathExpression\");\n$RefreshReg$(_c10, \"Arrow\");\n$RefreshReg$(_c11, \"StepExplanation\");\n$RefreshReg$(_c12, \"StepCounter\");\n$RefreshReg$(_c13, \"SafeMath\");\n$RefreshReg$(_c14, \"SolutionDisplay\");","map":{"version":3,"names":["React","useState","styled","motion","AnimatePresence","InlineMath","BlockMath","jsxDEV","_jsxDEV","SolutionContainer","div","_c","FinalAnswer","_c2","StepsHeader","_c3","StepsTitle","h3","_c4","ExpandButton","button","props","isExpanded","_c5","StepsContainer","_c6","StepCard","_c7","StepTitle","_c8","RuleFormula","_c9","MathTransformation","_c0","MathExpression","_c1","Arrow","_c10","StepExplanation","_c11","StepCounter","_c12","isLegacyStep","step","formatMathExpression","expr","replace","SafeMath","children","block","formatted","fileName","_jsxFileName","lineNumber","columnNumber","error","style","fontFamily","_c13","SolutionDisplay","solution","_s","setIsExpanded","formatFinalAnswer","answer","solutions","JSON","stringify","derivative","integral","type","Object","entries","map","k","v","join","String","renderStep","index","_step$input_state","_step$output_state","operation","l","toUpperCase","description","reasoning","ruleFormula","rule_formula","beforeExpr","input_state","expression","afterExpr","output_state","initial","opacity","y","animate","transition","delay","step_id","rule_name","before_expression","after_expression","latex_before","latex_after","explanation","scale","stiffness","damping","final_answer","x","solution_steps","steps","length","onClick","whileHover","whileTap","height","exit","duration","slice","textAlign","color","fontSize","marginTop","fontStyle","_c14","$RefreshReg$"],"sources":["/Users/sorour/workspace/Logikos/mathviz-frontend/src/components/SolutionDisplay.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport 'katex/dist/katex.min.css';\nimport { InlineMath, BlockMath } from 'react-katex';\nimport { MathSolution, MathStep, LegacyStep } from '../types/mathviz';\n\nconst SolutionContainer = styled(motion.div)`\n  background: #f9fafb;\n  border-radius: 16px;\n  padding: 1.5rem;\n  margin: 1rem 0;\n  border: 1px solid rgba(0, 0, 0, 0.05);\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);\n`;\n\nconst FinalAnswer = styled(motion.div)`\n  background: linear-gradient(135deg, #10b981 0%, #059669 100%);\n  color: white;\n  padding: 1rem 1.5rem;\n  border-radius: 12px;\n  margin-bottom: 1.5rem;\n  font-weight: 600;\n  font-size: 1.1rem;\n  box-shadow: 0 8px 24px rgba(16, 185, 129, 0.3);\n  display: flex;\n  align-items: center;\n  \n    &::before {\n    content: \"\";\n  }\n`;\n\nconst StepsHeader = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 1rem;\n  cursor: pointer;\n  padding: 0.5rem;\n  border-radius: 8px;\n  transition: background-color 0.2s ease;\n  \n  &:hover {\n    background: rgba(0, 0, 0, 0.02);\n  }\n`;\n\nconst StepsTitle = styled.h3`\n  font-weight: 600;\n  font-size: 1rem;\n  color: #374151;\n  margin: 0;\n  display: flex;\n  align-items: center;\n  \n  &::before {\n    content: \"üìù\";\n    margin-right: 0.5rem;\n  }\n`;\n\nconst ExpandButton = styled(motion.button)<{ isExpanded: boolean }>`\n  background: none;\n  border: none;\n  color: #6366f1;\n  font-weight: 600;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.9rem;\n  \n  &::after {\n    content: \"${props => props.isExpanded ? '‚ñ≤' : '‚ñº'}\";\n    transition: transform 0.2s ease;\n  }\n`;\n\nconst StepsContainer = styled(motion.div)`\n  overflow: hidden;\n`;\n\nconst StepCard = styled(motion.div)`\n  background: white;\n  border: 1px solid rgba(0, 0, 0, 0.08);\n  border-radius: 12px;\n  padding: 1rem;\n  margin-bottom: 0.75rem;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);\n  transition: all 0.2s ease;\n  \n  &:hover {\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);\n    transform: translateY(-1px);\n  }\n  \n  &:last-child {\n    margin-bottom: 0;\n  }\n`;\n\nconst StepTitle = styled.div`\n  font-weight: 600;\n  color: #1f2937;\n  font-size: 0.95rem;\n  margin-bottom: 0.5rem;\n  display: flex;\n  align-items: center;\n  \n  &::before {\n    content: counter(step-counter);\n    counter-increment: step-counter;\n    background: #6366f1;\n    color: white;\n    width: 24px;\n    height: 24px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 0.8rem;\n    font-weight: 600;\n    margin-right: 0.75rem;\n    flex-shrink: 0;\n  }\n`;\n\nconst RuleFormula = styled.div`\n  background: #eff6ff;\n  color: #1e40af;\n  padding: 0.5rem 0.75rem;\n  border-radius: 8px;\n  font-size: 0.85rem;\n  font-family: 'JetBrains Mono', monospace;\n  margin: 0.5rem 0;\n  border-left: 3px solid #3b82f6;\n`;\n\nconst MathTransformation = styled.div`\n  background: #f3f4f6;\n  padding: 0.75rem;\n  border-radius: 10px;\n  font-family: 'JetBrains Mono', monospace;\n  font-size: 0.9rem;\n  margin: 0.5rem 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 1rem;\n  flex-wrap: wrap;\n`;\n\nconst MathExpression = styled.div`\n  display: flex;\n  align-items: center;\n  padding: 0.5rem;\n  background: white;\n  border-radius: 6px;\n  border: 1px solid rgba(0, 0, 0, 0.05);\n`;\n\nconst Arrow = styled.div`\n  color: #6366f1;\n  font-weight: bold;\n  font-size: 1.2rem;\n`;\n\nconst StepExplanation = styled.div`\n  color: #6b7280;\n  font-size: 0.85rem;\n  line-height: 1.4;\n  font-style: italic;\n  margin-top: 0.5rem;\n  padding: 0.5rem;\n  background: rgba(107, 114, 128, 0.05);\n  border-radius: 6px;\n`;\n\nconst StepCounter = styled.div`\n  counter-reset: step-counter;\n`;\n\ninterface SolutionDisplayProps {\n  solution: MathSolution;\n}\n\nconst isLegacyStep = (step: MathStep | LegacyStep): step is LegacyStep => {\n  return 'step_id' in step && 'description' in step;\n};\n\nconst formatMathExpression = (expr: string): string => {\n  if (!expr) return '';\n  \n  // Convert common math notation to LaTeX\n  return expr\n    .replace(/\\^(\\d+)/g, '^{$1}')\n    .replace(/\\^([a-zA-Z]+)/g, '^{$1}')\n    .replace(/sqrt\\(([^)]+)\\)/g, '\\\\sqrt{$1}')\n    .replace(/\\bpi\\b/g, '\\\\pi')\n    .replace(/\\binfinity\\b/g, '\\\\infty')\n    .replace(/\\*/g, '\\\\cdot')\n    .replace(/\\+-/g, '\\\\pm');\n};\n\nconst SafeMath: React.FC<{ children: string; block?: boolean }> = ({ children, block = false }) => {\n  try {\n    const formatted = formatMathExpression(children);\n    return block ? <BlockMath>{formatted}</BlockMath> : <InlineMath>{formatted}</InlineMath>;\n  } catch (error) {\n    // Fallback to plain text if LaTeX parsing fails\n    return <code style={{ fontFamily: 'JetBrains Mono, monospace' }}>{children}</code>;\n  }\n};\n\nexport const SolutionDisplay: React.FC<SolutionDisplayProps> = ({ solution }) => {\n  const [isExpanded, setIsExpanded] = useState(true);\n\n  const formatFinalAnswer = (answer: any): string => {\n    if (typeof answer === 'object' && answer !== null) {\n      if (answer.solutions) {\n        return `x = ${JSON.stringify(answer.solutions)}`;\n      } else if (answer.derivative) {\n        return `f'(x) = ${answer.derivative}`;\n      } else if (answer.integral) {\n        return `‚à´f(x)dx = ${answer.integral} + C`;\n      } else if (answer.type === 'derivative') {\n        return `f'(x) = ${answer.derivative || 'N/A'}`;\n      } else if (answer.type === 'algebraic_solution' && answer.solutions) {\n        const solutions = answer.solutions;\n        return Object.entries(solutions).map(([k, v]) => `${k} = ${v}`).join(', ');\n      }\n      return JSON.stringify(answer);\n    }\n    return String(answer);\n  };\n\n  const renderStep = (step: MathStep | LegacyStep, index: number) => {\n    if (isLegacyStep(step)) {\n      // Handle new detailed format\n      const operation = step.operation.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n      const description = step.reasoning || step.description;\n      const ruleFormula = step.rule_formula;\n      \n      const beforeExpr = step.input_state?.expression || '';\n      const afterExpr = step.output_state?.expression || '';\n      \n      return (\n        <StepCard\n          key={step.step_id}\n          initial={{ opacity: 0, y: 10 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: index * 0.1 }}\n        >\n          <StepTitle>{operation}</StepTitle>\n          \n          {ruleFormula && (\n            <RuleFormula>\n              <SafeMath>{ruleFormula}</SafeMath>\n            </RuleFormula>\n          )}\n          \n          {beforeExpr && afterExpr && beforeExpr !== afterExpr && (\n            <MathTransformation>\n              <MathExpression>\n                <SafeMath>{beforeExpr}</SafeMath>\n              </MathExpression>\n              <Arrow>‚Üí</Arrow>\n              <MathExpression>\n                <SafeMath>{afterExpr}</SafeMath>\n              </MathExpression>\n            </MathTransformation>\n          )}\n          \n          <StepExplanation>{description}</StepExplanation>\n        </StepCard>\n      );\n    } else {\n      // Handle legacy format\n      return (\n        <StepCard\n          key={index}\n          initial={{ opacity: 0, y: 10 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: index * 0.1 }}\n        >\n          <StepTitle>{step.rule_name}</StepTitle>\n          \n          {step.rule_formula && (\n            <RuleFormula>\n              <SafeMath>{step.rule_formula}</SafeMath>\n            </RuleFormula>\n          )}\n          \n          {step.before_expression && step.after_expression && (\n            <MathTransformation>\n              <MathExpression>\n                {step.latex_before ? (\n                  <SafeMath>{step.latex_before}</SafeMath>\n                ) : (\n                  <SafeMath>{step.before_expression}</SafeMath>\n                )}\n              </MathExpression>\n              <Arrow>‚Üí</Arrow>\n              <MathExpression>\n                {step.latex_after ? (\n                  <SafeMath>{step.latex_after}</SafeMath>\n                ) : (\n                  <SafeMath>{step.after_expression}</SafeMath>\n                )}\n              </MathExpression>\n            </MathTransformation>\n          )}\n          \n          <StepExplanation>{step.explanation}</StepExplanation>\n        </StepCard>\n      );\n    }\n  };\n\n  return (\n    <SolutionContainer\n      initial={{ opacity: 0, scale: 0.95 }}\n      animate={{ opacity: 1, scale: 1 }}\n      transition={{ \n        type: \"spring\",\n        stiffness: 300,\n        damping: 30\n      }}\n    >\n      {/* Final Answer */}\n      {solution.final_answer && (\n        <FinalAnswer\n          initial={{ opacity: 0, x: -20 }}\n          animate={{ opacity: 1, x: 0 }}\n          transition={{ delay: 0.2 }}\n        >\n          <SafeMath>{formatFinalAnswer(solution.final_answer)}</SafeMath>\n        </FinalAnswer>\n      )}\n\n      {/* Solution Steps */}\n      {(solution.solution_steps || (solution as any).steps) && (solution.solution_steps || (solution as any).steps).length > 0 && (\n        <div>\n          <StepsHeader onClick={() => setIsExpanded(!isExpanded)}>\n            <StepsTitle>\n              Step-by-Step Solution ({(solution.solution_steps || (solution as any).steps).length} steps)\n            </StepsTitle>\n            <ExpandButton\n              isExpanded={isExpanded}\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n            >\n              {isExpanded ? 'Hide steps' : 'Show steps'}\n            </ExpandButton>\n          </StepsHeader>\n\n          <AnimatePresence>\n            {isExpanded && (\n              <StepsContainer\n                initial={{ opacity: 0, height: 0 }}\n                animate={{ opacity: 1, height: 'auto' }}\n                exit={{ opacity: 0, height: 0 }}\n                transition={{ duration: 0.3 }}\n              >\n                <StepCounter>\n                  {(solution.solution_steps || (solution as any).steps).slice(0, 10).map((step: any, index: number) => \n                    renderStep(step, index)\n                  )}\n                  \n                  {(solution.solution_steps || (solution as any).steps).length > 10 && (\n                    <div style={{ \n                      textAlign: 'center', \n                      color: '#6b7280', \n                      fontSize: '0.85rem', \n                      marginTop: '1rem',\n                      fontStyle: 'italic'\n                    }}>\n                      + {(solution.solution_steps || (solution as any).steps).length - 10} more steps available\n                    </div>\n                  )}\n                </StepCounter>\n              </StepsContainer>\n            )}\n          </AnimatePresence>\n        </div>\n      )}\n    </SolutionContainer>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}