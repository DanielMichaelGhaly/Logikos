{"ast":null,"code":"var _jsxFileName = \"/Users/sorour/workspace/Logikos/mathviz-frontend/src/components/MathVizChat.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { MessageBubble } from './MessageBubble';\nimport { SolutionDisplay } from './SolutionDisplay';\nimport { DesmosGraph } from './DesmosGraph';\nimport { mathvizAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst fadeInUp = keyframes`\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n`;\nconst ChatContainer = styled.div`\n  display: grid;\n  grid-template-columns: 260px 1fr;\n  gap: 1.25rem;\n  height: 100vh;\n  padding: 1.25rem;\nfont-family: 'Manrope', -apple-system, BlinkMacSystemFont, 'Inter', sans-serif;\n  position: relative;\n`;\n_c = ChatContainer;\nconst Header = styled(motion.div)`\n  background: linear-gradient(135deg, rgba(255,255,255,0.12), rgba(255,255,255,0.06));\n  backdrop-filter: blur(24px) saturate(160%);\n  -webkit-backdrop-filter: blur(24px) saturate(160%);\n  border: 1px solid rgba(255, 255, 255, 0.18);\n  border-radius: 24px;\n  padding: 2rem;\n  margin: 1rem 1rem 1rem 0rem;\n  text-align: center;\n  box-shadow: 0 20px 50px rgba(3, 8, 20, 0.6);\n  animation: ${fadeInUp} 0.8s ease-out;\n`;\n_c2 = Header;\nconst Title = styled.h1`\n  font-size: 2.4rem;\n  font-weight: 800;\n  letter-spacing: -0.015em;\n  color: #E5E7EB;\n  margin-bottom: 0.25rem;\n`;\n_c3 = Title;\nconst Subtitle = styled.p`\n  font-size: 0.95rem;\n  color: rgba(226, 232, 240, 0.65);\n  font-weight: 500;\n  margin: 0;\n`;\n_c4 = Subtitle;\nconst MessagesContainer = styled.div`\n  flex: 1;\n  background: linear-gradient(135deg, rgba(255,255,255,0.10), rgba(255,255,255,0.06));\n  backdrop-filter: blur(24px) saturate(160%);\n  -webkit-backdrop-filter: blur(24px) saturate(160%);\n  border: 1px solid rgba(255, 255, 255, 0.18);\n  border-radius: 20px;\n  margin: 0 1rem 0 0rem;\n  padding: 2rem;\n  overflow-y: auto;\n  box-shadow: 0 20px 50px rgba(3, 8, 20, 0.6);\n  \n  /* Custom scrollbar */\n  &::-webkit-scrollbar {\n    width: 8px;\n  }\n  \n  &::-webkit-scrollbar-track {\n    background: rgba(255, 255, 255, 0.05);\n    border-radius: 4px;\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    background: rgba(255, 255, 255, 0.2);\n    border-radius: 4px;\n  }\n  \n  &::-webkit-scrollbar-thumb:hover {\n    background: rgba(255, 255, 255, 0.3);\n  }\n`;\n_c5 = MessagesContainer;\nconst InputArea = styled.div`\n  background: linear-gradient(135deg, rgba(255,255,255,0.10), rgba(255,255,255,0.06));\n  backdrop-filter: blur(24px) saturate(160%);\n  -webkit-backdrop-filter: blur(24px) saturate(160%);\n  border: 1px solid rgba(255, 255, 255, 0.18);\n  border-radius: 20px;\n  margin: 1rem 1rem 1rem 0rem;\n  padding: 2rem;\n  box-shadow: 0 20px 50px rgba(3, 8, 20, 0.6);\n`;\n_c6 = InputArea;\nconst SuggestionsGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 0.75rem;\n  margin-bottom: 1.5rem;\n`;\n_c7 = SuggestionsGrid;\nconst SuggestionChip = styled(motion.button)`\n  background: linear-gradient(135deg, rgba(99, 102, 241, 0.12), rgba(56, 189, 248, 0.10));\n  border: 1px solid rgba(99, 102, 241, 0.25);\n  color: #93C5FD;\n  padding: 0.75rem 1rem;\n  border-radius: 12px;\n  font-size: 0.85rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: linear-gradient(135deg, rgba(99, 102, 241, 0.18), rgba(56, 189, 248, 0.16));\n    border-color: rgba(99, 102, 241, 0.4);\n    transform: translateY(-2px);\n    box-shadow: 0 8px 24px rgba(37, 99, 235, 0.30);\n  }\n`;\n_c8 = SuggestionChip;\nconst InputRow = styled.div`\n  display: flex;\n  gap: 1rem;\n  align-items: center;\n`;\n_c9 = InputRow;\nconst MathInput = styled.input`\n  flex: 1;\n  padding: 1rem 1.5rem;\n  background: rgba(255,255,255,0.06);\n  color: #E5E7EB;\n  border: 1px solid rgba(255, 255, 255, 0.18);\n  border-radius: 12px;\n  font-size: 1rem;\n  font-family: 'JetBrains Mono', monospace;\n  transition: all 0.3s ease;\n  \n  &:focus {\n    outline: none;\n    border-color: rgba(99, 102, 241, 0.6);\n    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.18);\n  }\n  \n  &::placeholder {\n    color: rgba(226,232,240,0.6);\n    font-style: italic;\n  }\n`;\n_c0 = MathInput;\nconst SendButton = styled(motion.button)`\n  background: ${props => props.disabled ? 'linear-gradient(135deg, #475569 0%, #334155 100%)' : 'linear-gradient(135deg, #2563EB 0%, #7C3AED 100%)'};\n  color: white;\n  border: none;\n  padding: 1rem 2rem;\n  border-radius: 12px;\n  font-weight: 700;\n  letter-spacing: 0.01em;\n  cursor: ${props => props.disabled ? 'not-allowed' : 'pointer'};\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  \n  &:hover {\n    transform: ${props => props.disabled ? 'none' : 'translateY(-1px)'};\n    box-shadow: ${props => props.disabled ? 'none' : '0 8px 24px rgba(59, 130, 246, 0.35)'};\n  }\n`;\n_c1 = SendButton;\nconst TypingIndicator = styled(motion.div)`\n  display: flex;\n  align-items: center;\n  padding: 1rem 1.25rem;\n  background: #f3f4f6;\n  border-radius: 20px 20px 20px 8px;\n  margin: 1rem 0;\n  color: #6b7280;\n  font-size: 0.9rem;\n`;\n_c10 = TypingIndicator;\nconst TypingDot = styled(motion.span)`\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background: #6b7280;\n  margin: 0 2px;\n`;\n_c11 = TypingDot;\nconst suggestions = [\"Solve: 2x¬≤ - 8x + 6 = 0\", \"Find derivative of x¬≥ + 4x¬≤ - 2x + 1\", \"Integrate: ‚à´(3x¬≤ + 2x + 1) dx\", \"Factor: x¬≤ - 5x + 6\", \"Graph: y = x¬≤ - 4x + 3\", \"Find critical points of x¬≥ - 3x¬≤ + 2\"];\nconst Sidebar = styled.div`\n  height: calc(100vh - 2.5rem);\n  background: linear-gradient(135deg, rgba(255,255,255,0.10), rgba(255,255,255,0.06));\n  backdrop-filter: blur(24px) saturate(160%);\n  -webkit-backdrop-filter: blur(24px) saturate(160%);\n  border: 1px solid rgba(255,255,255,0.18);\n  border-radius: 20px;\n  padding: 1.25rem;\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n  box-shadow: 0 20px 50px rgba(3, 8, 20, 0.6);\n`;\n_c12 = Sidebar;\nconst NavSection = styled.div`\n  margin-top: 0.5rem;\n`;\n_c13 = NavSection;\nconst NavItem = styled.button`\n  width: 100%;\n  text-align: left;\n  background: rgba(255,255,255,0.06);\n  border: 1px solid rgba(255,255,255,0.12);\n  color: #E5E7EB;\n  padding: 0.75rem 0.9rem;\n  border-radius: 12px;\n  font-size: 0.95rem;\n  display: flex;\n  align-items: center;\n  gap: 0.6rem;\n  cursor: pointer;\n  \n  &:hover {\n    background: rgba(255,255,255,0.10);\n    border-color: rgba(255,255,255,0.22);\n  }\n`;\n_c14 = NavItem;\nconst Brand = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.6rem;\n  margin-bottom: 0.75rem;\n  font-weight: 800;\n  letter-spacing: 0.02em;\n  background: linear-gradient(135deg, #A5B4FC 0%, #60A5FA 30%, #22D3EE 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n  font-size: 1.25rem;\n`;\n_c15 = Brand;\nexport const MathVizChat = () => {\n  _s();\n  const [messages, setMessages] = useState([{\n    id: '1',\n    type: 'bot',\n    content: \"üëã Hello! I'm your AI-powered math tutor. I can solve equations, find derivatives, compute integrals, and create interactive graphs. What would you like to learn today?\",\n    timestamp: new Date(),\n    has_solution: false\n  }]);\n  const [inputValue, setInputValue] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const messagesEndRef = useRef(null);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const handleSendMessage = async text => {\n    if (!text.trim() || isLoading) return;\n\n    // Add user message\n    const userMessage = {\n      id: Date.now().toString(),\n      type: 'user',\n      content: text,\n      timestamp: new Date(),\n      has_solution: false\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setInputValue('');\n    setIsLoading(true);\n    try {\n      // Call MathViz API\n      const response = await mathvizAPI.chat(text);\n      const botMessage = {\n        id: (Date.now() + 1).toString(),\n        type: 'bot',\n        content: response.reply_text || `I'll solve that now: **${text}**`,\n        timestamp: new Date(),\n        solution: response.solution,\n        desmos_url: response.desmos_url,\n        desmos_config: response.desmos_config,\n        has_solution: !!response.solution\n      };\n      setMessages(prev => [...prev, botMessage]);\n    } catch (error) {\n      const errorMessage = {\n        id: (Date.now() + 1).toString(),\n        type: 'bot',\n        content: `ü§î I encountered an issue solving that problem: **${error instanceof Error ? error.message : 'Unknown error'}**\\n\\nCould you try rephrasing it or asking a different question? I'm here to help!`,\n        timestamp: new Date(),\n        has_solution: false\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleSuggestionClick = suggestion => {\n    handleSendMessage(suggestion);\n  };\n  const handleInputSubmit = e => {\n    e.preventDefault();\n    handleSendMessage(inputValue);\n  };\n  const showSuggestions = messages.length <= 1;\n  return /*#__PURE__*/_jsxDEV(ChatContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n      children: [/*#__PURE__*/_jsxDEV(Brand, {\n        children: \"\\u221E Logikos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NavSection, {\n        children: /*#__PURE__*/_jsxDEV(NavItem, {\n          children: \"\\uD83D\\uDCAC Chats\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NavSection, {\n        children: [/*#__PURE__*/_jsxDEV(NavItem, {\n          children: \"\\u2699\\uFE0F Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n          children: \"\\u21A9\\uFE0F Log Out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        minWidth: 0\n      },\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        initial: {\n          opacity: 0,\n          y: -20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        transition: {\n          duration: 0.6\n        },\n        children: [/*#__PURE__*/_jsxDEV(Title, {\n          children: \"Logikos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Subtitle, {\n          children: \"Your AI-powered mathematical companion with step-by-step solutions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MessagesContainer, {\n        children: [/*#__PURE__*/_jsxDEV(AnimatePresence, {\n          children: messages.map(message => {\n            var _message$desmos_confi, _message$desmos_confi2, _message$desmos_confi3, _message$desmos_confi4, _message$desmos_confi5;\n            return /*#__PURE__*/_jsxDEV(motion.div, {\n              initial: {\n                opacity: 0,\n                y: 20\n              },\n              animate: {\n                opacity: 1,\n                y: 0\n              },\n              exit: {\n                opacity: 0,\n                y: -20\n              },\n              transition: {\n                duration: 0.5\n              },\n              children: [/*#__PURE__*/_jsxDEV(MessageBubble, {\n                message: message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 17\n              }, this), message.solution && /*#__PURE__*/_jsxDEV(SolutionDisplay, {\n                solution: message.solution\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 19\n              }, this), (message.desmos_url || message.desmos_config) && /*#__PURE__*/_jsxDEV(DesmosGraph, {\n                url: message.desmos_url,\n                expressions: (_message$desmos_confi = message.desmos_config) === null || _message$desmos_confi === void 0 ? void 0 : _message$desmos_confi.expressions,\n                viewport: {\n                  xmin: (_message$desmos_confi2 = message.desmos_config) === null || _message$desmos_confi2 === void 0 ? void 0 : _message$desmos_confi2.xmin,\n                  xmax: (_message$desmos_confi3 = message.desmos_config) === null || _message$desmos_confi3 === void 0 ? void 0 : _message$desmos_confi3.xmax,\n                  ymin: (_message$desmos_confi4 = message.desmos_config) === null || _message$desmos_confi4 === void 0 ? void 0 : _message$desmos_confi4.ymin,\n                  ymax: (_message$desmos_confi5 = message.desmos_config) === null || _message$desmos_confi5 === void 0 ? void 0 : _message$desmos_confi5.ymax\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 19\n              }, this)]\n            }, message.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 11\n        }, this), isLoading && /*#__PURE__*/_jsxDEV(TypingIndicator, {\n          initial: {\n            opacity: 0,\n            scale: 0.8\n          },\n          animate: {\n            opacity: 1,\n            scale: 1\n          },\n          exit: {\n            opacity: 0,\n            scale: 0.8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Solving your problem\\u2026\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 13\n          }, this), [0, 1, 2].map(i => /*#__PURE__*/_jsxDEV(TypingDot, {\n            animate: {\n              scale: [0.8, 1.2, 0.8],\n              opacity: [0.5, 1, 0.5]\n            },\n            transition: {\n              duration: 1.4,\n              repeat: Infinity,\n              delay: i * 0.2\n            }\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputArea, {\n        children: [showSuggestions && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              marginBottom: '1rem',\n              color: 'rgba(226,232,240,0.85)',\n              fontWeight: 700\n            },\n            children: \"\\uD83D\\uDCA1 Try these examples:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(SuggestionsGrid, {\n            children: suggestions.map((suggestion, index) => /*#__PURE__*/_jsxDEV(SuggestionChip, {\n              onClick: () => handleSuggestionClick(suggestion),\n              whileHover: {\n                scale: 1.02\n              },\n              whileTap: {\n                scale: 0.98\n              },\n              children: suggestion\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleInputSubmit,\n          children: /*#__PURE__*/_jsxDEV(InputRow, {\n            children: [/*#__PURE__*/_jsxDEV(MathInput, {\n              type: \"text\",\n              value: inputValue,\n              onChange: e => setInputValue(e.target.value),\n              placeholder: \"Type your math problem here... (e.g., 'Solve: 2x\\xB2 - 8x + 6 = 0')\",\n              disabled: isLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SendButton, {\n              type: \"submit\",\n              disabled: isLoading || !inputValue.trim(),\n              whileHover: {\n                scale: isLoading ? 1 : 1.05\n              },\n              whileTap: {\n                scale: isLoading ? 1 : 0.95\n              },\n              children: isLoading ? '‚Ä¶' : 'Send'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 341,\n    columnNumber: 5\n  }, this);\n};\n_s(MathVizChat, \"6YcsCADKzQznNtquZvfAqh6R/AU=\");\n_c16 = MathVizChat;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16;\n$RefreshReg$(_c, \"ChatContainer\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"Title\");\n$RefreshReg$(_c4, \"Subtitle\");\n$RefreshReg$(_c5, \"MessagesContainer\");\n$RefreshReg$(_c6, \"InputArea\");\n$RefreshReg$(_c7, \"SuggestionsGrid\");\n$RefreshReg$(_c8, \"SuggestionChip\");\n$RefreshReg$(_c9, \"InputRow\");\n$RefreshReg$(_c0, \"MathInput\");\n$RefreshReg$(_c1, \"SendButton\");\n$RefreshReg$(_c10, \"TypingIndicator\");\n$RefreshReg$(_c11, \"TypingDot\");\n$RefreshReg$(_c12, \"Sidebar\");\n$RefreshReg$(_c13, \"NavSection\");\n$RefreshReg$(_c14, \"NavItem\");\n$RefreshReg$(_c15, \"Brand\");\n$RefreshReg$(_c16, \"MathVizChat\");","map":{"version":3,"names":["React","useState","useRef","useEffect","styled","keyframes","motion","AnimatePresence","MessageBubble","SolutionDisplay","DesmosGraph","mathvizAPI","jsxDEV","_jsxDEV","fadeInUp","ChatContainer","div","_c","Header","_c2","Title","h1","_c3","Subtitle","p","_c4","MessagesContainer","_c5","InputArea","_c6","SuggestionsGrid","_c7","SuggestionChip","button","_c8","InputRow","_c9","MathInput","input","_c0","SendButton","props","disabled","_c1","TypingIndicator","_c10","TypingDot","span","_c11","suggestions","Sidebar","_c12","NavSection","_c13","NavItem","_c14","Brand","_c15","MathVizChat","_s","messages","setMessages","id","type","content","timestamp","Date","has_solution","inputValue","setInputValue","isLoading","setIsLoading","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","text","trim","userMessage","now","toString","prev","response","chat","botMessage","reply_text","solution","desmos_url","desmos_config","error","errorMessage","Error","message","handleSuggestionClick","suggestion","handleInputSubmit","e","preventDefault","showSuggestions","length","children","fileName","_jsxFileName","lineNumber","columnNumber","style","flex","display","flexDirection","minWidth","initial","opacity","y","animate","transition","duration","map","_message$desmos_confi","_message$desmos_confi2","_message$desmos_confi3","_message$desmos_confi4","_message$desmos_confi5","exit","url","expressions","viewport","xmin","xmax","ymin","ymax","scale","i","repeat","Infinity","delay","ref","marginBottom","color","fontWeight","index","onClick","whileHover","whileTap","onSubmit","value","onChange","target","placeholder","_c16","$RefreshReg$"],"sources":["/Users/sorour/workspace/Logikos/mathviz-frontend/src/components/MathVizChat.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { ChatMessage, MathSolution, APIResponse } from '../types/mathviz';\nimport { MessageBubble } from './MessageBubble';\nimport { SolutionDisplay } from './SolutionDisplay';\nimport { DesmosGraph } from './DesmosGraph';\nimport { mathvizAPI } from '../services/api';\n\nconst fadeInUp = keyframes`\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n`;\n\nconst ChatContainer = styled.div`\n  display: grid;\n  grid-template-columns: 260px 1fr;\n  gap: 1.25rem;\n  height: 100vh;\n  padding: 1.25rem;\nfont-family: 'Manrope', -apple-system, BlinkMacSystemFont, 'Inter', sans-serif;\n  position: relative;\n`;\n\nconst Header = styled(motion.div)`\n  background: linear-gradient(135deg, rgba(255,255,255,0.12), rgba(255,255,255,0.06));\n  backdrop-filter: blur(24px) saturate(160%);\n  -webkit-backdrop-filter: blur(24px) saturate(160%);\n  border: 1px solid rgba(255, 255, 255, 0.18);\n  border-radius: 24px;\n  padding: 2rem;\n  margin: 1rem 1rem 1rem 0rem;\n  text-align: center;\n  box-shadow: 0 20px 50px rgba(3, 8, 20, 0.6);\n  animation: ${fadeInUp} 0.8s ease-out;\n`;\n\nconst Title = styled.h1`\n  font-size: 2.4rem;\n  font-weight: 800;\n  letter-spacing: -0.015em;\n  color: #E5E7EB;\n  margin-bottom: 0.25rem;\n`;\n\nconst Subtitle = styled.p`\n  font-size: 0.95rem;\n  color: rgba(226, 232, 240, 0.65);\n  font-weight: 500;\n  margin: 0;\n`;\n\nconst MessagesContainer = styled.div`\n  flex: 1;\n  background: linear-gradient(135deg, rgba(255,255,255,0.10), rgba(255,255,255,0.06));\n  backdrop-filter: blur(24px) saturate(160%);\n  -webkit-backdrop-filter: blur(24px) saturate(160%);\n  border: 1px solid rgba(255, 255, 255, 0.18);\n  border-radius: 20px;\n  margin: 0 1rem 0 0rem;\n  padding: 2rem;\n  overflow-y: auto;\n  box-shadow: 0 20px 50px rgba(3, 8, 20, 0.6);\n  \n  /* Custom scrollbar */\n  &::-webkit-scrollbar {\n    width: 8px;\n  }\n  \n  &::-webkit-scrollbar-track {\n    background: rgba(255, 255, 255, 0.05);\n    border-radius: 4px;\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    background: rgba(255, 255, 255, 0.2);\n    border-radius: 4px;\n  }\n  \n  &::-webkit-scrollbar-thumb:hover {\n    background: rgba(255, 255, 255, 0.3);\n  }\n`;\n\nconst InputArea = styled.div`\n  background: linear-gradient(135deg, rgba(255,255,255,0.10), rgba(255,255,255,0.06));\n  backdrop-filter: blur(24px) saturate(160%);\n  -webkit-backdrop-filter: blur(24px) saturate(160%);\n  border: 1px solid rgba(255, 255, 255, 0.18);\n  border-radius: 20px;\n  margin: 1rem 1rem 1rem 0rem;\n  padding: 2rem;\n  box-shadow: 0 20px 50px rgba(3, 8, 20, 0.6);\n`;\n\nconst SuggestionsGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 0.75rem;\n  margin-bottom: 1.5rem;\n`;\n\nconst SuggestionChip = styled(motion.button)`\n  background: linear-gradient(135deg, rgba(99, 102, 241, 0.12), rgba(56, 189, 248, 0.10));\n  border: 1px solid rgba(99, 102, 241, 0.25);\n  color: #93C5FD;\n  padding: 0.75rem 1rem;\n  border-radius: 12px;\n  font-size: 0.85rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: linear-gradient(135deg, rgba(99, 102, 241, 0.18), rgba(56, 189, 248, 0.16));\n    border-color: rgba(99, 102, 241, 0.4);\n    transform: translateY(-2px);\n    box-shadow: 0 8px 24px rgba(37, 99, 235, 0.30);\n  }\n`;\n\nconst InputRow = styled.div`\n  display: flex;\n  gap: 1rem;\n  align-items: center;\n`;\n\nconst MathInput = styled.input`\n  flex: 1;\n  padding: 1rem 1.5rem;\n  background: rgba(255,255,255,0.06);\n  color: #E5E7EB;\n  border: 1px solid rgba(255, 255, 255, 0.18);\n  border-radius: 12px;\n  font-size: 1rem;\n  font-family: 'JetBrains Mono', monospace;\n  transition: all 0.3s ease;\n  \n  &:focus {\n    outline: none;\n    border-color: rgba(99, 102, 241, 0.6);\n    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.18);\n  }\n  \n  &::placeholder {\n    color: rgba(226,232,240,0.6);\n    font-style: italic;\n  }\n`;\n\nconst SendButton = styled(motion.button)<{ disabled: boolean }>`\n  background: ${props => props.disabled \n    ? 'linear-gradient(135deg, #475569 0%, #334155 100%)'\n    : 'linear-gradient(135deg, #2563EB 0%, #7C3AED 100%)'\n  };\n  color: white;\n  border: none;\n  padding: 1rem 2rem;\n  border-radius: 12px;\n  font-weight: 700;\n  letter-spacing: 0.01em;\n  cursor: ${props => props.disabled ? 'not-allowed' : 'pointer'};\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  \n  &:hover {\n    transform: ${props => props.disabled ? 'none' : 'translateY(-1px)'};\n    box-shadow: ${props => props.disabled ? 'none' : '0 8px 24px rgba(59, 130, 246, 0.35)'};\n  }\n`;\n\nconst TypingIndicator = styled(motion.div)`\n  display: flex;\n  align-items: center;\n  padding: 1rem 1.25rem;\n  background: #f3f4f6;\n  border-radius: 20px 20px 20px 8px;\n  margin: 1rem 0;\n  color: #6b7280;\n  font-size: 0.9rem;\n`;\n\nconst TypingDot = styled(motion.span)`\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background: #6b7280;\n  margin: 0 2px;\n`;\n\nconst suggestions = [\n  \"Solve: 2x¬≤ - 8x + 6 = 0\",\n  \"Find derivative of x¬≥ + 4x¬≤ - 2x + 1\",\n  \"Integrate: ‚à´(3x¬≤ + 2x + 1) dx\",\n  \"Factor: x¬≤ - 5x + 6\",\n  \"Graph: y = x¬≤ - 4x + 3\",\n  \"Find critical points of x¬≥ - 3x¬≤ + 2\"\n];\n\nconst Sidebar = styled.div`\n  height: calc(100vh - 2.5rem);\n  background: linear-gradient(135deg, rgba(255,255,255,0.10), rgba(255,255,255,0.06));\n  backdrop-filter: blur(24px) saturate(160%);\n  -webkit-backdrop-filter: blur(24px) saturate(160%);\n  border: 1px solid rgba(255,255,255,0.18);\n  border-radius: 20px;\n  padding: 1.25rem;\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n  box-shadow: 0 20px 50px rgba(3, 8, 20, 0.6);\n`;\n\nconst NavSection = styled.div`\n  margin-top: 0.5rem;\n`;\n\nconst NavItem = styled.button`\n  width: 100%;\n  text-align: left;\n  background: rgba(255,255,255,0.06);\n  border: 1px solid rgba(255,255,255,0.12);\n  color: #E5E7EB;\n  padding: 0.75rem 0.9rem;\n  border-radius: 12px;\n  font-size: 0.95rem;\n  display: flex;\n  align-items: center;\n  gap: 0.6rem;\n  cursor: pointer;\n  \n  &:hover {\n    background: rgba(255,255,255,0.10);\n    border-color: rgba(255,255,255,0.22);\n  }\n`;\n\nconst Brand = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.6rem;\n  margin-bottom: 0.75rem;\n  font-weight: 800;\n  letter-spacing: 0.02em;\n  background: linear-gradient(135deg, #A5B4FC 0%, #60A5FA 30%, #22D3EE 100%);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n  font-size: 1.25rem;\n`;\n\nexport const MathVizChat: React.FC = () => {\n  const [messages, setMessages] = useState<ChatMessage[]>([\n    {\n      id: '1',\n      type: 'bot',\n      content: \"üëã Hello! I'm your AI-powered math tutor. I can solve equations, find derivatives, compute integrals, and create interactive graphs. What would you like to learn today?\",\n      timestamp: new Date(),\n      has_solution: false\n    }\n  ]);\n  \n  const [inputValue, setInputValue] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const handleSendMessage = async (text: string) => {\n    if (!text.trim() || isLoading) return;\n\n    // Add user message\n    const userMessage: ChatMessage = {\n      id: Date.now().toString(),\n      type: 'user',\n      content: text,\n      timestamp: new Date(),\n      has_solution: false\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    setInputValue('');\n    setIsLoading(true);\n\n    try {\n      // Call MathViz API\n      const response = await mathvizAPI.chat(text);\n\n      const botMessage: ChatMessage = {\n        id: (Date.now() + 1).toString(),\n        type: 'bot',\n        content: response.reply_text || `I'll solve that now: **${text}**`,\n        timestamp: new Date(),\n        solution: response.solution,\n        desmos_url: response.desmos_url,\n        desmos_config: response.desmos_config,\n        has_solution: !!response.solution\n      };\n\n      setMessages(prev => [...prev, botMessage]);\n    } catch (error) {\n      const errorMessage: ChatMessage = {\n        id: (Date.now() + 1).toString(),\n        type: 'bot',\n        content: `ü§î I encountered an issue solving that problem: **${error instanceof Error ? error.message : 'Unknown error'}**\\n\\nCould you try rephrasing it or asking a different question? I'm here to help!`,\n        timestamp: new Date(),\n        has_solution: false\n      };\n\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleSuggestionClick = (suggestion: string) => {\n    handleSendMessage(suggestion);\n  };\n\n  const handleInputSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    handleSendMessage(inputValue);\n  };\n\n  const showSuggestions = messages.length <= 1;\n\n  return (\n    <ChatContainer>\n      {/* Sidebar */}\n      <Sidebar>\n        <Brand>‚àû Logikos</Brand>\n        <NavSection>\n          <NavItem>üí¨ Chats</NavItem>\n        </NavSection>\n        <div style={{ flex: 1 }} />\n        <NavSection>\n          <NavItem>‚öôÔ∏è Settings</NavItem>\n          <NavItem>‚Ü©Ô∏è Log Out</NavItem>\n        </NavSection>\n      </Sidebar>\n\n      {/* Main Panel */}\n      <div style={{ display: 'flex', flexDirection: 'column', minWidth: 0 }}>\n        <Header\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n        >\n          <Title>Logikos</Title>\n          <Subtitle>Your AI-powered mathematical companion with step-by-step solutions</Subtitle>\n        </Header>\n\n        <MessagesContainer>\n          <AnimatePresence>\n            {messages.map((message) => (\n              <motion.div\n                key={message.id}\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: -20 }}\n                transition={{ duration: 0.5 }}\n              >\n                <MessageBubble message={message} />\n                {message.solution && (\n                  <SolutionDisplay solution={message.solution} />\n                )}\n                {(message.desmos_url || message.desmos_config) && (\n                  <DesmosGraph \n                    url={message.desmos_url}\n                    expressions={message.desmos_config?.expressions}\n                    viewport={{\n                      xmin: message.desmos_config?.xmin,\n                      xmax: message.desmos_config?.xmax,\n                      ymin: message.desmos_config?.ymin,\n                      ymax: message.desmos_config?.ymax,\n                    }}\n                  />\n                )}\n              </motion.div>\n            ))}\n          </AnimatePresence>\n\n          {isLoading && (\n            <TypingIndicator\n              initial={{ opacity: 0, scale: 0.8 }}\n              animate={{ opacity: 1, scale: 1 }}\n              exit={{ opacity: 0, scale: 0.8 }}\n            >\n            <span>Solving your problem‚Ä¶</span>\n              {[0, 1, 2].map(i => (\n                <TypingDot\n                  key={i}\n                  animate={{ \n                    scale: [0.8, 1.2, 0.8],\n                    opacity: [0.5, 1, 0.5]\n                  }}\n                  transition={{\n                    duration: 1.4,\n                    repeat: Infinity,\n                    delay: i * 0.2\n                  }}\n                />\n              ))}\n            </TypingIndicator>\n          )}\n          \n          <div ref={messagesEndRef} />\n        </MessagesContainer>\n\n        <InputArea>\n          {showSuggestions && (\n            <div>\n              <h3 style={{ marginBottom: '1rem', color: 'rgba(226,232,240,0.85)', fontWeight: 700 }}>\n                üí° Try these examples:\n              </h3>\n              <SuggestionsGrid>\n                {suggestions.map((suggestion, index) => (\n                  <SuggestionChip\n                    key={index}\n                    onClick={() => handleSuggestionClick(suggestion)}\n                    whileHover={{ scale: 1.02 }}\n                    whileTap={{ scale: 0.98 }}\n                  >\n                    {suggestion}\n                  </SuggestionChip>\n                ))}\n              </SuggestionsGrid>\n            </div>\n          )}\n\n          <form onSubmit={handleInputSubmit}>\n            <InputRow>\n              <MathInput\n                type=\"text\"\n                value={inputValue}\n                onChange={(e) => setInputValue(e.target.value)}\n                placeholder=\"Type your math problem here... (e.g., 'Solve: 2x¬≤ - 8x + 6 = 0')\"\n                disabled={isLoading}\n              />\n              <SendButton\n                type=\"submit\"\n                disabled={isLoading || !inputValue.trim()}\n                whileHover={{ scale: isLoading ? 1 : 1.05 }}\n                whileTap={{ scale: isLoading ? 1 : 0.95 }}\n              >\n              {isLoading ? '‚Ä¶' : 'Send'}\n              </SendButton>\n            </InputRow>\n          </form>\n        </InputArea>\n      </div>\n    </ChatContainer>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}