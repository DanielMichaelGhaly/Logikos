{"ast":null,"code":"var _jsxFileName = \"/Users/sorour/Documents/GitHub/library-management-system (1)/Logikos/mathviz-frontend/src/components/MessageBubble.tsx\";\nimport React from 'react';\nimport styled from 'styled-components';\nimport { motion } from 'framer-motion';\nimport { InlineMath } from 'react-katex';\nimport 'katex/dist/katex.min.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MessageContainer = styled.div`\n  display: flex;\n  justify-content: ${props => props.isUser ? 'flex-end' : 'flex-start'};\n  margin-bottom: 1.5rem;\n  align-items: flex-start;\n`;\n_c = MessageContainer;\nconst Avatar = styled.div`\n  width: 36px;\n  height: 36px;\n  background: linear-gradient(135deg, rgba(99,102,241,0.25) 0%, rgba(37,99,235,0.25) 100%);\n  border: 1px solid rgba(255,255,255,0.18);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 1rem;\n  font-size: 0.9rem;\n  color: #E5E7EB;\n  font-weight: 700;\n  flex-shrink: 0;\n  box-shadow: 0 8px 24px rgba(3, 8, 20, 0.5);\n`;\n_c2 = Avatar;\nconst BubbleContent = styled(motion.div)`\n  max-width: 75%;\n  background: ${props => props.isUser ? 'linear-gradient(135deg, rgba(37,99,235,0.20), rgba(124,58,237,0.20))' : 'rgba(255,255,255,0.92)'};\n  color: ${props => props.isUser ? '#E5E7EB' : '#111827'};\n  padding: 1rem 1.25rem;\n  border-radius: ${props => props.isUser ? '18px 18px 8px 18px' : '18px 18px 18px 8px'};\n  font-size: 0.95rem;\n  line-height: 1.6;\n  box-shadow: ${props => props.isUser ? '0 8px 24px rgba(2, 6, 23, 0.5)' : '0 4px 14px rgba(2, 6, 23, 0.20)'};\n  word-wrap: break-word;\n  border: ${props => props.isUser ? '1px solid rgba(99,102,241,0.25)' : '1px solid rgba(255,255,255,0.6)'};\n`;\n_c3 = BubbleContent;\nconst MessageText = styled.div`\n  /* Handle markdown-style bold text */\n  strong {\n    font-weight: 600;\n  }\n  \n  /* Handle code-style text */\n  code {\n    background: rgba(0, 0, 0, 0.1);\n    padding: 0.2rem 0.4rem;\n    border-radius: 4px;\n    font-family: 'JetBrains Mono', monospace;\n    font-size: 0.85rem;\n  }\n`;\n_c4 = MessageText;\nconst Timestamp = styled.div`\n  font-size: 0.75rem;\n  color: ${props => props.isUser ? 'rgba(255, 255, 255, 0.7)' : '#9ca3af'};\n  margin-top: 0.5rem;\n  text-align: ${props => props.isUser ? 'right' : 'left'};\n`;\n_c5 = Timestamp;\nexport const MessageBubble = ({\n  message\n}) => {\n  const isUser = message.type === 'user';\n  const avatar = message.has_solution ? \"MV\" : \"AI\";\n  const formatContent = content => {\n    // Parse LaTeX expressions and markdown\n    let remaining = content;\n\n    // First handle LaTeX expressions (looking for patterns like 2x^2, f'(x), etc.)\n    const mathPatterns = [/\\b\\d*[a-zA-Z]\\^?\\{?[0-9a-zA-Z]*\\}?/g,\n    // Variables with exponents like x^2, x^{2}\n    /\\b[a-zA-Z]'?\\([a-zA-Z]\\)/g,\n    // Functions like f(x), f'(x)\n    /\\b\\d+[a-zA-Z]\\s*[+\\-]\\s*\\d+/g,\n    // Terms like 2x + 3\n    /\\b[a-zA-Z]\\s*=\\s*[0-9\\-+*/^()a-zA-Z\\s]+/g,\n    // Equations like x = 2\n    /∫.*?dx/g,\n    // Integrals\n    /∑.*?/g,\n    // Summations\n    /√\\(.*?\\)/g // Square roots\n    ];\n    let hasMatches = false;\n    for (const pattern of mathPatterns) {\n      const matches = Array.from(remaining.matchAll(pattern));\n      if (matches.length > 0) {\n        hasMatches = true;\n        break;\n      }\n    }\n    if (!hasMatches) {\n      // No math expressions found, just handle markdown\n      return remaining.replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>').replace(/`(.*?)`/g, '<code>$1</code>').replace(/\\n/g, '<br>');\n    }\n\n    // If we have math, we need to render as JSX components\n    return null; // Signal to use JSX rendering\n  };\n  const renderContentWithMath = content => {\n    const parts = [];\n    let remaining = content;\n    let index = 0;\n\n    // Simple math detection patterns\n    const mathRegex = /(\\b\\d*[a-zA-Z]\\^?\\{?[0-9a-zA-Z]*\\}?|\\b[a-zA-Z]'?\\([a-zA-Z]\\)|\\b\\d+[a-zA-Z]\\s*[+\\-]\\s*\\d+|\\b[a-zA-Z]\\s*=\\s*[0-9\\-+*/^()a-zA-Z\\s]+|∫.*?dx|∑.*?|√\\(.*?\\))/g;\n    let match;\n    let lastEnd = 0;\n    while ((match = mathRegex.exec(remaining)) !== null) {\n      // Add text before the match\n      if (match.index > lastEnd) {\n        const textBefore = remaining.slice(lastEnd, match.index);\n        if (textBefore.trim()) {\n          parts.push(/*#__PURE__*/_jsxDEV(\"span\", {\n            dangerouslySetInnerHTML: {\n              __html: textBefore.replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>').replace(/`(.*?)`/g, '<code>$1</code>').replace(/\\n/g, '<br>')\n            }\n          }, index++, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this));\n        }\n      }\n\n      // Add the math expression\n      try {\n        parts.push(/*#__PURE__*/_jsxDEV(InlineMath, {\n          children: match[1]\n        }, index++, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 20\n        }, this));\n      } catch (error) {\n        // Fallback to plain text if LaTeX fails\n        parts.push(/*#__PURE__*/_jsxDEV(\"code\", {\n          children: match[1]\n        }, index++, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 20\n        }, this));\n      }\n      lastEnd = match.index + match[0].length;\n    }\n\n    // Add remaining text\n    if (lastEnd < remaining.length) {\n      const textAfter = remaining.slice(lastEnd);\n      if (textAfter.trim()) {\n        parts.push(/*#__PURE__*/_jsxDEV(\"span\", {\n          dangerouslySetInnerHTML: {\n            __html: textAfter.replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>').replace(/`(.*?)`/g, '<code>$1</code>').replace(/\\n/g, '<br>')\n          }\n        }, index++, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this));\n      }\n    }\n    return parts.length > 0 ? parts : [content];\n  };\n  const formatTime = timestamp => {\n    return timestamp.toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(MessageContainer, {\n    isUser: isUser,\n    children: [!isUser && /*#__PURE__*/_jsxDEV(Avatar, {\n      children: avatar\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(BubbleContent, {\n      isUser: isUser,\n      initial: {\n        opacity: 0,\n        scale: 0.8\n      },\n      animate: {\n        opacity: 1,\n        scale: 1\n      },\n      transition: {\n        type: \"spring\",\n        stiffness: 500,\n        damping: 30\n      },\n      children: [/*#__PURE__*/_jsxDEV(MessageText, {\n        children: (() => {\n          const formattedContent = formatContent(message.content);\n          return formattedContent === null ? renderContentWithMath(message.content) : /*#__PURE__*/_jsxDEV(\"span\", {\n            dangerouslySetInnerHTML: {\n              __html: formattedContent\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 17\n          }, this);\n        })()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Timestamp, {\n        isUser: isUser,\n        children: formatTime(message.timestamp)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 186,\n    columnNumber: 5\n  }, this);\n};\n_c6 = MessageBubble;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"MessageContainer\");\n$RefreshReg$(_c2, \"Avatar\");\n$RefreshReg$(_c3, \"BubbleContent\");\n$RefreshReg$(_c4, \"MessageText\");\n$RefreshReg$(_c5, \"Timestamp\");\n$RefreshReg$(_c6, \"MessageBubble\");","map":{"version":3,"names":["React","styled","motion","InlineMath","jsxDEV","_jsxDEV","MessageContainer","div","props","isUser","_c","Avatar","_c2","BubbleContent","_c3","MessageText","_c4","Timestamp","_c5","MessageBubble","message","type","avatar","has_solution","formatContent","content","remaining","mathPatterns","hasMatches","pattern","matches","Array","from","matchAll","length","replace","renderContentWithMath","parts","index","mathRegex","match","lastEnd","exec","textBefore","slice","trim","push","dangerouslySetInnerHTML","__html","fileName","_jsxFileName","lineNumber","columnNumber","children","error","textAfter","formatTime","timestamp","toLocaleTimeString","hour","minute","initial","opacity","scale","animate","transition","stiffness","damping","formattedContent","_c6","$RefreshReg$"],"sources":["/Users/sorour/Documents/GitHub/library-management-system (1)/Logikos/mathviz-frontend/src/components/MessageBubble.tsx"],"sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport { motion } from 'framer-motion';\nimport { InlineMath } from 'react-katex';\nimport 'katex/dist/katex.min.css';\nimport { ChatMessage } from '../types/mathviz';\n\nconst MessageContainer = styled.div<{ isUser: boolean }>`\n  display: flex;\n  justify-content: ${props => props.isUser ? 'flex-end' : 'flex-start'};\n  margin-bottom: 1.5rem;\n  align-items: flex-start;\n`;\n\nconst Avatar = styled.div`\n  width: 36px;\n  height: 36px;\n  background: linear-gradient(135deg, rgba(99,102,241,0.25) 0%, rgba(37,99,235,0.25) 100%);\n  border: 1px solid rgba(255,255,255,0.18);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 1rem;\n  font-size: 0.9rem;\n  color: #E5E7EB;\n  font-weight: 700;\n  flex-shrink: 0;\n  box-shadow: 0 8px 24px rgba(3, 8, 20, 0.5);\n`;\n\nconst BubbleContent = styled(motion.div)<{ isUser: boolean }>`\n  max-width: 75%;\n  background: ${props => props.isUser \n    ? 'linear-gradient(135deg, rgba(37,99,235,0.20), rgba(124,58,237,0.20))'\n    : 'rgba(255,255,255,0.92)'\n  };\n  color: ${props => props.isUser ? '#E5E7EB' : '#111827'};\n  padding: 1rem 1.25rem;\n  border-radius: ${props => props.isUser \n    ? '18px 18px 8px 18px'\n    : '18px 18px 18px 8px'\n  };\n  font-size: 0.95rem;\n  line-height: 1.6;\n  box-shadow: ${props => props.isUser\n    ? '0 8px 24px rgba(2, 6, 23, 0.5)'\n    : '0 4px 14px rgba(2, 6, 23, 0.20)'\n  };\n  word-wrap: break-word;\n  border: ${props => props.isUser ? '1px solid rgba(99,102,241,0.25)' : '1px solid rgba(255,255,255,0.6)'};\n`;\n\nconst MessageText = styled.div`\n  /* Handle markdown-style bold text */\n  strong {\n    font-weight: 600;\n  }\n  \n  /* Handle code-style text */\n  code {\n    background: rgba(0, 0, 0, 0.1);\n    padding: 0.2rem 0.4rem;\n    border-radius: 4px;\n    font-family: 'JetBrains Mono', monospace;\n    font-size: 0.85rem;\n  }\n`;\n\nconst Timestamp = styled.div<{ isUser: boolean }>`\n  font-size: 0.75rem;\n  color: ${props => props.isUser ? 'rgba(255, 255, 255, 0.7)' : '#9ca3af'};\n  margin-top: 0.5rem;\n  text-align: ${props => props.isUser ? 'right' : 'left'};\n`;\n\ninterface MessageBubbleProps {\n  message: ChatMessage;\n}\n\nexport const MessageBubble: React.FC<MessageBubbleProps> = ({ message }) => {\n  const isUser = message.type === 'user';\n  const avatar = message.has_solution ? \"MV\" : \"AI\";\n\n  const formatContent = (content: string): string | null => {\n    // Parse LaTeX expressions and markdown\n    let remaining = content;\n\n    // First handle LaTeX expressions (looking for patterns like 2x^2, f'(x), etc.)\n    const mathPatterns = [\n      /\\b\\d*[a-zA-Z]\\^?\\{?[0-9a-zA-Z]*\\}?/g, // Variables with exponents like x^2, x^{2}\n      /\\b[a-zA-Z]'?\\([a-zA-Z]\\)/g, // Functions like f(x), f'(x)\n      /\\b\\d+[a-zA-Z]\\s*[+\\-]\\s*\\d+/g, // Terms like 2x + 3\n      /\\b[a-zA-Z]\\s*=\\s*[0-9\\-+*/^()a-zA-Z\\s]+/g, // Equations like x = 2\n      /∫.*?dx/g, // Integrals\n      /∑.*?/g, // Summations\n      /√\\(.*?\\)/g, // Square roots\n    ];\n\n    let hasMatches = false;\n\n    for (const pattern of mathPatterns) {\n      const matches = Array.from(remaining.matchAll(pattern));\n      if (matches.length > 0) {\n        hasMatches = true;\n        break;\n      }\n    }\n\n    if (!hasMatches) {\n      // No math expressions found, just handle markdown\n      return remaining\n        .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n        .replace(/`(.*?)`/g, '<code>$1</code>')\n        .replace(/\\n/g, '<br>');\n    }\n\n    // If we have math, we need to render as JSX components\n    return null; // Signal to use JSX rendering\n  };\n\n  const renderContentWithMath = (content: string) => {\n    const parts: React.ReactNode[] = [];\n    let remaining = content;\n    let index = 0;\n\n    // Simple math detection patterns\n    const mathRegex = /(\\b\\d*[a-zA-Z]\\^?\\{?[0-9a-zA-Z]*\\}?|\\b[a-zA-Z]'?\\([a-zA-Z]\\)|\\b\\d+[a-zA-Z]\\s*[+\\-]\\s*\\d+|\\b[a-zA-Z]\\s*=\\s*[0-9\\-+*/^()a-zA-Z\\s]+|∫.*?dx|∑.*?|√\\(.*?\\))/g;\n\n    let match;\n    let lastEnd = 0;\n\n    while ((match = mathRegex.exec(remaining)) !== null) {\n      // Add text before the match\n      if (match.index > lastEnd) {\n        const textBefore = remaining.slice(lastEnd, match.index);\n        if (textBefore.trim()) {\n          parts.push(\n            <span key={index++} dangerouslySetInnerHTML={{\n              __html: textBefore\n                .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n                .replace(/`(.*?)`/g, '<code>$1</code>')\n                .replace(/\\n/g, '<br>')\n            }} />\n          );\n        }\n      }\n\n      // Add the math expression\n      try {\n        parts.push(<InlineMath key={index++}>{match[1]}</InlineMath>);\n      } catch (error) {\n        // Fallback to plain text if LaTeX fails\n        parts.push(<code key={index++}>{match[1]}</code>);\n      }\n\n      lastEnd = match.index + match[0].length;\n    }\n\n    // Add remaining text\n    if (lastEnd < remaining.length) {\n      const textAfter = remaining.slice(lastEnd);\n      if (textAfter.trim()) {\n        parts.push(\n          <span key={index++} dangerouslySetInnerHTML={{\n            __html: textAfter\n              .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n              .replace(/`(.*?)`/g, '<code>$1</code>')\n              .replace(/\\n/g, '<br>')\n          }} />\n        );\n      }\n    }\n\n    return parts.length > 0 ? parts : [content];\n  };\n\n  const formatTime = (timestamp: Date) => {\n    return timestamp.toLocaleTimeString([], { \n      hour: '2-digit', \n      minute: '2-digit' \n    });\n  };\n\n  return (\n    <MessageContainer isUser={isUser}>\n      {!isUser && <Avatar>{avatar}</Avatar>}\n      \n      <BubbleContent\n        isUser={isUser}\n        initial={{ opacity: 0, scale: 0.8 }}\n        animate={{ opacity: 1, scale: 1 }}\n        transition={{ \n          type: \"spring\",\n          stiffness: 500,\n          damping: 30\n        }}\n      >\n        <MessageText>\n          {(() => {\n            const formattedContent = formatContent(message.content);\n            return formattedContent === null\n              ? renderContentWithMath(message.content)\n              : <span dangerouslySetInnerHTML={{ __html: formattedContent }} />;\n          })()}\n        </MessageText>\n        <Timestamp isUser={isUser}>\n          {formatTime(message.timestamp)}\n        </Timestamp>\n      </BubbleContent>\n    </MessageContainer>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}