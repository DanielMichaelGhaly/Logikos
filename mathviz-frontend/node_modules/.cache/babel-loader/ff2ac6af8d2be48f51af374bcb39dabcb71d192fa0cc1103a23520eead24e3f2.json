{"ast":null,"code":"var _jsxFileName = \"/Users/sorour/Documents/GitHub/library-management-system (1)/Logikos/mathviz-frontend/src/components/MessageBubble.tsx\";\nimport React from 'react';\nimport styled from 'styled-components';\nimport { motion } from 'framer-motion';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MessageContainer = styled.div`\n  display: flex;\n  justify-content: ${props => props.isUser ? 'flex-end' : 'flex-start'};\n  margin-bottom: 1.5rem;\n  align-items: flex-start;\n`;\n_c = MessageContainer;\nconst Avatar = styled.div`\n  width: 36px;\n  height: 36px;\n  background: linear-gradient(135deg, rgba(99,102,241,0.25) 0%, rgba(37,99,235,0.25) 100%);\n  border: 1px solid rgba(255,255,255,0.18);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 1rem;\n  font-size: 0.9rem;\n  color: #E5E7EB;\n  font-weight: 700;\n  flex-shrink: 0;\n  box-shadow: 0 8px 24px rgba(3, 8, 20, 0.5);\n`;\n_c2 = Avatar;\nconst BubbleContent = styled(motion.div)`\n  max-width: 75%;\n  background: ${props => props.isUser ? 'linear-gradient(135deg, rgba(37,99,235,0.20), rgba(124,58,237,0.20))' : 'rgba(255,255,255,0.92)'};\n  color: ${props => props.isUser ? '#E5E7EB' : '#111827'};\n  padding: 1rem 1.25rem;\n  border-radius: ${props => props.isUser ? '18px 18px 8px 18px' : '18px 18px 18px 8px'};\n  font-size: 0.95rem;\n  line-height: 1.6;\n  box-shadow: ${props => props.isUser ? '0 8px 24px rgba(2, 6, 23, 0.5)' : '0 4px 14px rgba(2, 6, 23, 0.20)'};\n  word-wrap: break-word;\n  border: ${props => props.isUser ? '1px solid rgba(99,102,241,0.25)' : '1px solid rgba(255,255,255,0.6)'};\n`;\n_c3 = BubbleContent;\nconst MessageText = styled.div`\n  /* Handle markdown-style bold text */\n  strong {\n    font-weight: 600;\n  }\n  \n  /* Handle code-style text */\n  code {\n    background: rgba(0, 0, 0, 0.1);\n    padding: 0.2rem 0.4rem;\n    border-radius: 4px;\n    font-family: 'JetBrains Mono', monospace;\n    font-size: 0.85rem;\n  }\n`;\n_c4 = MessageText;\nconst Timestamp = styled.div`\n  font-size: 0.75rem;\n  color: ${props => props.isUser ? 'rgba(255, 255, 255, 0.7)' : '#9ca3af'};\n  margin-top: 0.5rem;\n  text-align: ${props => props.isUser ? 'right' : 'left'};\n`;\n_c5 = Timestamp;\nexport const MessageBubble = ({\n  message\n}) => {\n  const isUser = message.type === 'user';\n  const avatar = message.has_solution ? \"MV\" : \"AI\";\n  const formatContent = content => {\n    // Simple markdown-style formatting\n    return content.replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>').replace(/`(.*?)`/g, '<code>$1</code>').replace(/\\n/g, '<br>');\n  };\n  const formatTime = timestamp => {\n    return timestamp.toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(MessageContainer, {\n    isUser: isUser,\n    children: [!isUser && /*#__PURE__*/_jsxDEV(Avatar, {\n      children: avatar\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(BubbleContent, {\n      isUser: isUser,\n      initial: {\n        opacity: 0,\n        scale: 0.8\n      },\n      animate: {\n        opacity: 1,\n        scale: 1\n      },\n      transition: {\n        type: \"spring\",\n        stiffness: 500,\n        damping: 30\n      },\n      children: [/*#__PURE__*/_jsxDEV(MessageText, {\n        dangerouslySetInnerHTML: {\n          __html: formatContent(message.content)\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Timestamp, {\n        isUser: isUser,\n        children: formatTime(message.timestamp)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n};\n_c6 = MessageBubble;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"MessageContainer\");\n$RefreshReg$(_c2, \"Avatar\");\n$RefreshReg$(_c3, \"BubbleContent\");\n$RefreshReg$(_c4, \"MessageText\");\n$RefreshReg$(_c5, \"Timestamp\");\n$RefreshReg$(_c6, \"MessageBubble\");","map":{"version":3,"names":["React","styled","motion","jsxDEV","_jsxDEV","MessageContainer","div","props","isUser","_c","Avatar","_c2","BubbleContent","_c3","MessageText","_c4","Timestamp","_c5","MessageBubble","message","type","avatar","has_solution","formatContent","content","replace","formatTime","timestamp","toLocaleTimeString","hour","minute","children","fileName","_jsxFileName","lineNumber","columnNumber","initial","opacity","scale","animate","transition","stiffness","damping","dangerouslySetInnerHTML","__html","_c6","$RefreshReg$"],"sources":["/Users/sorour/Documents/GitHub/library-management-system (1)/Logikos/mathviz-frontend/src/components/MessageBubble.tsx"],"sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport { motion } from 'framer-motion';\nimport { ChatMessage } from '../types/mathviz';\n\nconst MessageContainer = styled.div<{ isUser: boolean }>`\n  display: flex;\n  justify-content: ${props => props.isUser ? 'flex-end' : 'flex-start'};\n  margin-bottom: 1.5rem;\n  align-items: flex-start;\n`;\n\nconst Avatar = styled.div`\n  width: 36px;\n  height: 36px;\n  background: linear-gradient(135deg, rgba(99,102,241,0.25) 0%, rgba(37,99,235,0.25) 100%);\n  border: 1px solid rgba(255,255,255,0.18);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 1rem;\n  font-size: 0.9rem;\n  color: #E5E7EB;\n  font-weight: 700;\n  flex-shrink: 0;\n  box-shadow: 0 8px 24px rgba(3, 8, 20, 0.5);\n`;\n\nconst BubbleContent = styled(motion.div)<{ isUser: boolean }>`\n  max-width: 75%;\n  background: ${props => props.isUser \n    ? 'linear-gradient(135deg, rgba(37,99,235,0.20), rgba(124,58,237,0.20))'\n    : 'rgba(255,255,255,0.92)'\n  };\n  color: ${props => props.isUser ? '#E5E7EB' : '#111827'};\n  padding: 1rem 1.25rem;\n  border-radius: ${props => props.isUser \n    ? '18px 18px 8px 18px'\n    : '18px 18px 18px 8px'\n  };\n  font-size: 0.95rem;\n  line-height: 1.6;\n  box-shadow: ${props => props.isUser\n    ? '0 8px 24px rgba(2, 6, 23, 0.5)'\n    : '0 4px 14px rgba(2, 6, 23, 0.20)'\n  };\n  word-wrap: break-word;\n  border: ${props => props.isUser ? '1px solid rgba(99,102,241,0.25)' : '1px solid rgba(255,255,255,0.6)'};\n`;\n\nconst MessageText = styled.div`\n  /* Handle markdown-style bold text */\n  strong {\n    font-weight: 600;\n  }\n  \n  /* Handle code-style text */\n  code {\n    background: rgba(0, 0, 0, 0.1);\n    padding: 0.2rem 0.4rem;\n    border-radius: 4px;\n    font-family: 'JetBrains Mono', monospace;\n    font-size: 0.85rem;\n  }\n`;\n\nconst Timestamp = styled.div<{ isUser: boolean }>`\n  font-size: 0.75rem;\n  color: ${props => props.isUser ? 'rgba(255, 255, 255, 0.7)' : '#9ca3af'};\n  margin-top: 0.5rem;\n  text-align: ${props => props.isUser ? 'right' : 'left'};\n`;\n\ninterface MessageBubbleProps {\n  message: ChatMessage;\n}\n\nexport const MessageBubble: React.FC<MessageBubbleProps> = ({ message }) => {\n  const isUser = message.type === 'user';\n  const avatar = message.has_solution ? \"MV\" : \"AI\";\n\n  const formatContent = (content: string) => {\n    // Simple markdown-style formatting\n    return content\n      .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n      .replace(/`(.*?)`/g, '<code>$1</code>')\n      .replace(/\\n/g, '<br>');\n  };\n\n  const formatTime = (timestamp: Date) => {\n    return timestamp.toLocaleTimeString([], { \n      hour: '2-digit', \n      minute: '2-digit' \n    });\n  };\n\n  return (\n    <MessageContainer isUser={isUser}>\n      {!isUser && <Avatar>{avatar}</Avatar>}\n      \n      <BubbleContent\n        isUser={isUser}\n        initial={{ opacity: 0, scale: 0.8 }}\n        animate={{ opacity: 1, scale: 1 }}\n        transition={{ \n          type: \"spring\",\n          stiffness: 500,\n          damping: 30\n        }}\n      >\n        <MessageText \n          dangerouslySetInnerHTML={{ \n            __html: formatContent(message.content) \n          }} \n        />\n        <Timestamp isUser={isUser}>\n          {formatTime(message.timestamp)}\n        </Timestamp>\n      </BubbleContent>\n    </MessageContainer>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}