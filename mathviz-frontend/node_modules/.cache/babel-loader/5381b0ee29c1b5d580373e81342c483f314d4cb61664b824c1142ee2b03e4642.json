{"ast":null,"code":"var _jsxFileName = \"/Users/sorour/Documents/GitHub/library-management-system (1)/Logikos/mathviz-frontend/src/components/ModernMathChat.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { InlineMath, BlockMath } from 'react-katex';\nimport 'katex/dist/katex.min.css';\n\n// Types\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n// Styled Components\nconst ChatContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  background: #000000;\n  color: #FFFFFF;\n`;\n_c = ChatContainer;\nconst Header = styled.div`\n  padding: 20px 24px;\n  border-bottom: 1px solid #1A1A1A;\n  background: #000000;\n`;\n_c2 = Header;\nconst Title = styled.h1`\n  font-size: 24px;\n  font-weight: 600;\n  color: #FFFFFF;\n  margin: 0;\n`;\n_c3 = Title;\nconst Subtitle = styled.p`\n  font-size: 14px;\n  color: #888888;\n  margin: 4px 0 0 0;\n`;\n_c4 = Subtitle;\nconst MessagesContainer = styled.div`\n  flex: 1;\n  overflow-y: auto;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n\n  /* Custom scrollbar */\n  &::-webkit-scrollbar {\n    width: 6px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: transparent;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: #333333;\n    border-radius: 3px;\n  }\n\n  &::-webkit-scrollbar-thumb:hover {\n    background: #444444;\n  }\n`;\n_c5 = MessagesContainer;\nconst MessageGroup = styled(motion.div)`\n  width: 100%;\n  padding: 24px;\n  display: flex;\n  justify-content: ${props => props.$isUser ? 'flex-end' : 'flex-start'};\n`;\n_c6 = MessageGroup;\nconst MessageBubble = styled.div`\n  max-width: 70%;\n  min-width: 200px;\n  padding: 16px 20px;\n  border-radius: 18px;\n  font-size: 15px;\n  line-height: 1.5;\n  word-wrap: break-word;\n\n  ${props => props.$isUser ? `\n    background: #FFFFFF;\n    color: #000000;\n    border-bottom-right-radius: 4px;\n  ` : `\n    background: #1A1A1A;\n    color: #FFFFFF;\n    border-bottom-left-radius: 4px;\n    border: 1px solid #2A2A2A;\n  `}\n`;\n_c7 = MessageBubble;\nconst VisualizationContainer = styled.div`\n  margin-top: 16px;\n  padding: 20px;\n  background: #0F0F0F;\n  border-radius: 12px;\n  border: 1px solid #2A2A2A;\n  overflow: auto;\n\n  /* Ensure visualizations display properly */\n  img {\n    max-width: 100%;\n    height: auto;\n    border-radius: 8px;\n  }\n\n  /* Style embedded HTML content */\n  iframe {\n    width: 100%;\n    border: none;\n    border-radius: 8px;\n  }\n`;\n_c8 = VisualizationContainer;\nconst InputContainer = styled.div`\n  padding: 24px;\n  border-top: 1px solid #1A1A1A;\n  background: #000000;\n`;\n_c9 = InputContainer;\nconst InputWrapper = styled.div`\n  display: flex;\n  align-items: flex-end;\n  gap: 12px;\n  max-width: 800px;\n  margin: 0 auto;\n`;\n_c0 = InputWrapper;\nconst MessageInput = styled.textarea`\n  flex: 1;\n  min-height: 20px;\n  max-height: 120px;\n  padding: 12px 16px;\n  border: 1px solid #333333;\n  border-radius: 12px;\n  background: #1A1A1A;\n  color: #FFFFFF;\n  font-family: inherit;\n  font-size: 15px;\n  line-height: 1.4;\n  resize: none;\n  outline: none;\n\n  &::placeholder {\n    color: #666666;\n  }\n\n  &:focus {\n    border-color: #FFFFFF;\n    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);\n  }\n`;\n_c1 = MessageInput;\nconst SendButton = styled.button`\n  padding: 12px 16px;\n  border: none;\n  border-radius: 12px;\n  background: ${props => props.$disabled ? '#333333' : '#FFFFFF'};\n  color: ${props => props.$disabled ? '#666666' : '#000000'};\n  font-weight: 600;\n  cursor: ${props => props.$disabled ? 'not-allowed' : 'pointer'};\n  transition: all 0.15s ease;\n\n  &:hover {\n    background: ${props => props.$disabled ? '#333333' : '#E5E5E5'};\n  }\n`;\n_c10 = SendButton;\nconst LoadingDots = styled.div`\n  display: flex;\n  gap: 4px;\n  padding: 8px 0;\n\n  span {\n    width: 6px;\n    height: 6px;\n    border-radius: 50%;\n    background: #666666;\n    animation: loadingDot 1.5s infinite ease-in-out;\n\n    &:nth-child(1) { animation-delay: 0s; }\n    &:nth-child(2) { animation-delay: 0.2s; }\n    &:nth-child(3) { animation-delay: 0.4s; }\n  }\n\n  @keyframes loadingDot {\n    0%, 60%, 100% { opacity: 0.3; }\n    30% { opacity: 1; }\n  }\n`;\n_c11 = LoadingDots;\nconst ExamplePrompts = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  margin-top: 16px;\n`;\n_c12 = ExamplePrompts;\nconst ExamplePrompt = styled.button`\n  padding: 8px 12px;\n  border: 1px solid #333333;\n  border-radius: 8px;\n  background: transparent;\n  color: #CCCCCC;\n  font-size: 13px;\n  cursor: pointer;\n  transition: all 0.15s ease;\n\n  &:hover {\n    border-color: #FFFFFF;\n    color: #FFFFFF;\n  }\n`;\n\n// Helper function to render math in text\n_c13 = ExamplePrompt;\nconst renderMathText = text => {\n  // Split by math delimiters and render accordingly\n  const parts = text.split(/(\\$\\$[\\s\\S]*?\\$\\$|\\$[\\s\\S]*?\\$)/);\n  return parts.map((part, index) => {\n    if (part.startsWith('$$') && part.endsWith('$$')) {\n      // Block math\n      return /*#__PURE__*/_jsxDEV(BlockMath, {\n        children: part.slice(2, -2)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 14\n      }, this);\n    } else if (part.startsWith('$') && part.endsWith('$')) {\n      // Inline math\n      return /*#__PURE__*/_jsxDEV(InlineMath, {\n        children: part.slice(1, -1)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 14\n      }, this);\n    } else {\n      // Regular text\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        children: part\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 14\n      }, this);\n    }\n  });\n};\nexport const ModernMathChat = () => {\n  _s();\n  const [messages, setMessages] = useState([{\n    id: '1',\n    type: 'assistant',\n    content: \"Hello! I'm your AI math tutor. I can solve equations, create visualizations, and explain mathematical concepts. Try asking me about contour maps like 'x^2 + y^2' or any other math problem!\",\n    timestamp: new Date()\n  }]);\n  const [inputValue, setInputValue] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef(null);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const handleSubmit = async () => {\n    if (!inputValue.trim() || isLoading) return;\n    const userMessage = {\n      id: Date.now().toString(),\n      type: 'user',\n      content: inputValue.trim(),\n      timestamp: new Date()\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setInputValue('');\n    setIsLoading(true);\n\n    // Add loading message\n    const loadingMessage = {\n      id: (Date.now() + 1).toString(),\n      type: 'assistant',\n      content: '',\n      timestamp: new Date(),\n      isLoading: true\n    };\n    setMessages(prev => [...prev, loadingMessage]);\n    try {\n      const response = await fetch('/api/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          message: userMessage.content,\n          include_reasoning: true,\n          include_visualization: true\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Failed to get response');\n      }\n      const data = await response.json();\n      console.log('API Response:', data);\n\n      // Remove loading message and add real response\n      setMessages(prev => {\n        var _data$solution, _data$solution2, _data$solution2$metad;\n        const filtered = prev.filter(m => !m.isLoading);\n        const assistantMessage = {\n          id: (Date.now() + 2).toString(),\n          type: 'assistant',\n          content: data.reply_text || 'I received your question and processed it successfully.',\n          timestamp: new Date(),\n          visualization: ((_data$solution = data.solution) === null || _data$solution === void 0 ? void 0 : _data$solution.visualization) || ((_data$solution2 = data.solution) === null || _data$solution2 === void 0 ? void 0 : (_data$solution2$metad = _data$solution2.metadata) === null || _data$solution2$metad === void 0 ? void 0 : _data$solution2$metad.graph_html)\n        };\n        return [...filtered, assistantMessage];\n      });\n    } catch (error) {\n      console.error('Error:', error);\n\n      // Remove loading message and add error message\n      setMessages(prev => {\n        const filtered = prev.filter(m => !m.isLoading);\n        const errorMessage = {\n          id: (Date.now() + 3).toString(),\n          type: 'assistant',\n          content: 'Sorry, I encountered an error processing your request. Please try again.',\n          timestamp: new Date()\n        };\n        return [...filtered, errorMessage];\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit();\n    }\n  };\n  const handleExamplePrompt = prompt => {\n    var _inputRef$current;\n    setInputValue(prompt);\n    (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();\n  };\n  return /*#__PURE__*/_jsxDEV(ChatContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"Logikos Math AI\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Subtitle, {\n        children: \"Advanced mathematical problem solving with visualizations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MessagesContainer, {\n      children: [/*#__PURE__*/_jsxDEV(AnimatePresence, {\n        children: messages.map(message => /*#__PURE__*/_jsxDEV(MessageGroup, {\n          $isUser: message.type === 'user',\n          initial: {\n            opacity: 0,\n            y: 20\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          exit: {\n            opacity: 0,\n            y: -20\n          },\n          transition: {\n            duration: 0.3\n          },\n          children: /*#__PURE__*/_jsxDEV(MessageBubble, {\n            $isUser: message.type === 'user',\n            children: message.isLoading ? /*#__PURE__*/_jsxDEV(LoadingDots, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: renderMathText(message.content)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 21\n              }, this), message.visualization && /*#__PURE__*/_jsxDEV(VisualizationContainer, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  dangerouslySetInnerHTML: {\n                    __html: message.visualization\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 15\n          }, this)\n        }, message.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(InputContainer, {\n      children: [/*#__PURE__*/_jsxDEV(InputWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(MessageInput, {\n          ref: inputRef,\n          value: inputValue,\n          onChange: e => setInputValue(e.target.value),\n          onKeyPress: handleKeyPress,\n          placeholder: \"Ask me about math problems, equations, or visualizations...\",\n          disabled: isLoading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SendButton, {\n          $disabled: !inputValue.trim() || isLoading,\n          onClick: handleSubmit,\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 9\n      }, this), messages.length === 1 && /*#__PURE__*/_jsxDEV(ExamplePrompts, {\n        children: [/*#__PURE__*/_jsxDEV(ExamplePrompt, {\n          onClick: () => handleExamplePrompt('x^2 + y^2'),\n          children: \"x\\xB2 + y\\xB2 contour\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ExamplePrompt, {\n          onClick: () => handleExamplePrompt('sin(x)*cos(y)'),\n          children: \"sin(x)cos(y) pattern\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ExamplePrompt, {\n          onClick: () => handleExamplePrompt('solve 2x + 5 = 0'),\n          children: \"solve equation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ExamplePrompt, {\n          onClick: () => handleExamplePrompt('derivative of x^3'),\n          children: \"find derivative\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 358,\n    columnNumber: 5\n  }, this);\n};\n_s(ModernMathChat, \"p3OhzQfTdZ9Z/QUzsY91fTFZoV4=\");\n_c14 = ModernMathChat;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14;\n$RefreshReg$(_c, \"ChatContainer\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"Title\");\n$RefreshReg$(_c4, \"Subtitle\");\n$RefreshReg$(_c5, \"MessagesContainer\");\n$RefreshReg$(_c6, \"MessageGroup\");\n$RefreshReg$(_c7, \"MessageBubble\");\n$RefreshReg$(_c8, \"VisualizationContainer\");\n$RefreshReg$(_c9, \"InputContainer\");\n$RefreshReg$(_c0, \"InputWrapper\");\n$RefreshReg$(_c1, \"MessageInput\");\n$RefreshReg$(_c10, \"SendButton\");\n$RefreshReg$(_c11, \"LoadingDots\");\n$RefreshReg$(_c12, \"ExamplePrompts\");\n$RefreshReg$(_c13, \"ExamplePrompt\");\n$RefreshReg$(_c14, \"ModernMathChat\");","map":{"version":3,"names":["React","useState","useRef","useEffect","styled","motion","AnimatePresence","InlineMath","BlockMath","jsxDEV","_jsxDEV","Fragment","_Fragment","ChatContainer","div","_c","Header","_c2","Title","h1","_c3","Subtitle","p","_c4","MessagesContainer","_c5","MessageGroup","props","$isUser","_c6","MessageBubble","_c7","VisualizationContainer","_c8","InputContainer","_c9","InputWrapper","_c0","MessageInput","textarea","_c1","SendButton","button","$disabled","_c10","LoadingDots","_c11","ExamplePrompts","_c12","ExamplePrompt","_c13","renderMathText","text","parts","split","map","part","index","startsWith","endsWith","children","slice","fileName","_jsxFileName","lineNumber","columnNumber","ModernMathChat","_s","messages","setMessages","id","type","content","timestamp","Date","inputValue","setInputValue","isLoading","setIsLoading","messagesEndRef","inputRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSubmit","trim","userMessage","now","toString","prev","loadingMessage","response","fetch","method","headers","body","JSON","stringify","message","include_reasoning","include_visualization","ok","Error","data","json","console","log","_data$solution","_data$solution2","_data$solution2$metad","filtered","filter","m","assistantMessage","reply_text","visualization","solution","metadata","graph_html","error","errorMessage","handleKeyPress","e","key","shiftKey","preventDefault","handleExamplePrompt","prompt","_inputRef$current","focus","initial","opacity","y","animate","exit","transition","duration","dangerouslySetInnerHTML","__html","ref","value","onChange","target","onKeyPress","placeholder","disabled","onClick","length","_c14","$RefreshReg$"],"sources":["/Users/sorour/Documents/GitHub/library-management-system (1)/Logikos/mathviz-frontend/src/components/ModernMathChat.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { InlineMath, BlockMath } from 'react-katex';\nimport 'katex/dist/katex.min.css';\n\n// Types\ninterface ChatMessage {\n  id: string;\n  type: 'user' | 'assistant';\n  content: string;\n  timestamp: Date;\n  visualization?: string;\n  isLoading?: boolean;\n}\n\n// Styled Components\nconst ChatContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  background: #000000;\n  color: #FFFFFF;\n`;\n\nconst Header = styled.div`\n  padding: 20px 24px;\n  border-bottom: 1px solid #1A1A1A;\n  background: #000000;\n`;\n\nconst Title = styled.h1`\n  font-size: 24px;\n  font-weight: 600;\n  color: #FFFFFF;\n  margin: 0;\n`;\n\nconst Subtitle = styled.p`\n  font-size: 14px;\n  color: #888888;\n  margin: 4px 0 0 0;\n`;\n\nconst MessagesContainer = styled.div`\n  flex: 1;\n  overflow-y: auto;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n\n  /* Custom scrollbar */\n  &::-webkit-scrollbar {\n    width: 6px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: transparent;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: #333333;\n    border-radius: 3px;\n  }\n\n  &::-webkit-scrollbar-thumb:hover {\n    background: #444444;\n  }\n`;\n\nconst MessageGroup = styled(motion.div)<{ $isUser: boolean }>`\n  width: 100%;\n  padding: 24px;\n  display: flex;\n  justify-content: ${props => props.$isUser ? 'flex-end' : 'flex-start'};\n`;\n\nconst MessageBubble = styled.div<{ $isUser: boolean }>`\n  max-width: 70%;\n  min-width: 200px;\n  padding: 16px 20px;\n  border-radius: 18px;\n  font-size: 15px;\n  line-height: 1.5;\n  word-wrap: break-word;\n\n  ${props => props.$isUser ? `\n    background: #FFFFFF;\n    color: #000000;\n    border-bottom-right-radius: 4px;\n  ` : `\n    background: #1A1A1A;\n    color: #FFFFFF;\n    border-bottom-left-radius: 4px;\n    border: 1px solid #2A2A2A;\n  `}\n`;\n\nconst VisualizationContainer = styled.div`\n  margin-top: 16px;\n  padding: 20px;\n  background: #0F0F0F;\n  border-radius: 12px;\n  border: 1px solid #2A2A2A;\n  overflow: auto;\n\n  /* Ensure visualizations display properly */\n  img {\n    max-width: 100%;\n    height: auto;\n    border-radius: 8px;\n  }\n\n  /* Style embedded HTML content */\n  iframe {\n    width: 100%;\n    border: none;\n    border-radius: 8px;\n  }\n`;\n\nconst InputContainer = styled.div`\n  padding: 24px;\n  border-top: 1px solid #1A1A1A;\n  background: #000000;\n`;\n\nconst InputWrapper = styled.div`\n  display: flex;\n  align-items: flex-end;\n  gap: 12px;\n  max-width: 800px;\n  margin: 0 auto;\n`;\n\nconst MessageInput = styled.textarea`\n  flex: 1;\n  min-height: 20px;\n  max-height: 120px;\n  padding: 12px 16px;\n  border: 1px solid #333333;\n  border-radius: 12px;\n  background: #1A1A1A;\n  color: #FFFFFF;\n  font-family: inherit;\n  font-size: 15px;\n  line-height: 1.4;\n  resize: none;\n  outline: none;\n\n  &::placeholder {\n    color: #666666;\n  }\n\n  &:focus {\n    border-color: #FFFFFF;\n    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);\n  }\n`;\n\nconst SendButton = styled.button<{ $disabled: boolean }>`\n  padding: 12px 16px;\n  border: none;\n  border-radius: 12px;\n  background: ${props => props.$disabled ? '#333333' : '#FFFFFF'};\n  color: ${props => props.$disabled ? '#666666' : '#000000'};\n  font-weight: 600;\n  cursor: ${props => props.$disabled ? 'not-allowed' : 'pointer'};\n  transition: all 0.15s ease;\n\n  &:hover {\n    background: ${props => props.$disabled ? '#333333' : '#E5E5E5'};\n  }\n`;\n\nconst LoadingDots = styled.div`\n  display: flex;\n  gap: 4px;\n  padding: 8px 0;\n\n  span {\n    width: 6px;\n    height: 6px;\n    border-radius: 50%;\n    background: #666666;\n    animation: loadingDot 1.5s infinite ease-in-out;\n\n    &:nth-child(1) { animation-delay: 0s; }\n    &:nth-child(2) { animation-delay: 0.2s; }\n    &:nth-child(3) { animation-delay: 0.4s; }\n  }\n\n  @keyframes loadingDot {\n    0%, 60%, 100% { opacity: 0.3; }\n    30% { opacity: 1; }\n  }\n`;\n\nconst ExamplePrompts = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  margin-top: 16px;\n`;\n\nconst ExamplePrompt = styled.button`\n  padding: 8px 12px;\n  border: 1px solid #333333;\n  border-radius: 8px;\n  background: transparent;\n  color: #CCCCCC;\n  font-size: 13px;\n  cursor: pointer;\n  transition: all 0.15s ease;\n\n  &:hover {\n    border-color: #FFFFFF;\n    color: #FFFFFF;\n  }\n`;\n\n// Helper function to render math in text\nconst renderMathText = (text: string) => {\n  // Split by math delimiters and render accordingly\n  const parts = text.split(/(\\$\\$[\\s\\S]*?\\$\\$|\\$[\\s\\S]*?\\$)/);\n\n  return parts.map((part, index) => {\n    if (part.startsWith('$$') && part.endsWith('$$')) {\n      // Block math\n      return <BlockMath key={index}>{part.slice(2, -2)}</BlockMath>;\n    } else if (part.startsWith('$') && part.endsWith('$')) {\n      // Inline math\n      return <InlineMath key={index}>{part.slice(1, -1)}</InlineMath>;\n    } else {\n      // Regular text\n      return <span key={index}>{part}</span>;\n    }\n  });\n};\n\nexport const ModernMathChat: React.FC = () => {\n  const [messages, setMessages] = useState<ChatMessage[]>([\n    {\n      id: '1',\n      type: 'assistant',\n      content: \"Hello! I'm your AI math tutor. I can solve equations, create visualizations, and explain mathematical concepts. Try asking me about contour maps like 'x^2 + y^2' or any other math problem!\",\n      timestamp: new Date(),\n    }\n  ]);\n\n  const [inputValue, setInputValue] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLTextAreaElement>(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const handleSubmit = async () => {\n    if (!inputValue.trim() || isLoading) return;\n\n    const userMessage: ChatMessage = {\n      id: Date.now().toString(),\n      type: 'user',\n      content: inputValue.trim(),\n      timestamp: new Date(),\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    setInputValue('');\n    setIsLoading(true);\n\n    // Add loading message\n    const loadingMessage: ChatMessage = {\n      id: (Date.now() + 1).toString(),\n      type: 'assistant',\n      content: '',\n      timestamp: new Date(),\n      isLoading: true,\n    };\n\n    setMessages(prev => [...prev, loadingMessage]);\n\n    try {\n      const response = await fetch('/api/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          message: userMessage.content,\n          include_reasoning: true,\n          include_visualization: true,\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to get response');\n      }\n\n      const data = await response.json();\n      console.log('API Response:', data);\n\n      // Remove loading message and add real response\n      setMessages(prev => {\n        const filtered = prev.filter(m => !m.isLoading);\n\n        const assistantMessage: ChatMessage = {\n          id: (Date.now() + 2).toString(),\n          type: 'assistant',\n          content: data.reply_text || 'I received your question and processed it successfully.',\n          timestamp: new Date(),\n          visualization: data.solution?.visualization || data.solution?.metadata?.graph_html,\n        };\n\n        return [...filtered, assistantMessage];\n      });\n\n    } catch (error) {\n      console.error('Error:', error);\n\n      // Remove loading message and add error message\n      setMessages(prev => {\n        const filtered = prev.filter(m => !m.isLoading);\n\n        const errorMessage: ChatMessage = {\n          id: (Date.now() + 3).toString(),\n          type: 'assistant',\n          content: 'Sorry, I encountered an error processing your request. Please try again.',\n          timestamp: new Date(),\n        };\n\n        return [...filtered, errorMessage];\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit();\n    }\n  };\n\n  const handleExamplePrompt = (prompt: string) => {\n    setInputValue(prompt);\n    inputRef.current?.focus();\n  };\n\n  return (\n    <ChatContainer>\n      <Header>\n        <Title>Logikos Math AI</Title>\n        <Subtitle>Advanced mathematical problem solving with visualizations</Subtitle>\n      </Header>\n\n      <MessagesContainer>\n        <AnimatePresence>\n          {messages.map((message) => (\n            <MessageGroup\n              key={message.id}\n              $isUser={message.type === 'user'}\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n              transition={{ duration: 0.3 }}\n            >\n              <MessageBubble $isUser={message.type === 'user'}>\n                {message.isLoading ? (\n                  <LoadingDots>\n                    <span></span>\n                    <span></span>\n                    <span></span>\n                  </LoadingDots>\n                ) : (\n                  <>\n                    <div>{renderMathText(message.content)}</div>\n                    {message.visualization && (\n                      <VisualizationContainer>\n                        <div dangerouslySetInnerHTML={{ __html: message.visualization }} />\n                      </VisualizationContainer>\n                    )}\n                  </>\n                )}\n              </MessageBubble>\n            </MessageGroup>\n          ))}\n        </AnimatePresence>\n        <div ref={messagesEndRef} />\n      </MessagesContainer>\n\n      <InputContainer>\n        <InputWrapper>\n          <MessageInput\n            ref={inputRef}\n            value={inputValue}\n            onChange={(e) => setInputValue(e.target.value)}\n            onKeyPress={handleKeyPress}\n            placeholder=\"Ask me about math problems, equations, or visualizations...\"\n            disabled={isLoading}\n          />\n          <SendButton\n            $disabled={!inputValue.trim() || isLoading}\n            onClick={handleSubmit}\n          >\n            Send\n          </SendButton>\n        </InputWrapper>\n\n        {messages.length === 1 && (\n          <ExamplePrompts>\n            <ExamplePrompt onClick={() => handleExamplePrompt('x^2 + y^2')}>\n              x² + y² contour\n            </ExamplePrompt>\n            <ExamplePrompt onClick={() => handleExamplePrompt('sin(x)*cos(y)')}>\n              sin(x)cos(y) pattern\n            </ExamplePrompt>\n            <ExamplePrompt onClick={() => handleExamplePrompt('solve 2x + 5 = 0')}>\n              solve equation\n            </ExamplePrompt>\n            <ExamplePrompt onClick={() => handleExamplePrompt('derivative of x^3')}>\n              find derivative\n            </ExamplePrompt>\n          </ExamplePrompts>\n        )}\n      </InputContainer>\n    </ChatContainer>\n  );\n};"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAC1D,OAAOC,MAAM,MAAM,mBAAmB;AACtC,SAASC,MAAM,EAAEC,eAAe,QAAQ,eAAe;AACvD,SAASC,UAAU,EAAEC,SAAS,QAAQ,aAAa;AACnD,OAAO,0BAA0B;;AAEjC;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAUA;AACA,MAAMC,aAAa,GAAGT,MAAM,CAACU,GAAG;AAChC;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GANIF,aAAa;AAQnB,MAAMG,MAAM,GAAGZ,MAAM,CAACU,GAAG;AACzB;AACA;AACA;AACA,CAAC;AAACG,GAAA,GAJID,MAAM;AAMZ,MAAME,KAAK,GAAGd,MAAM,CAACe,EAAE;AACvB;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GALIF,KAAK;AAOX,MAAMG,QAAQ,GAAGjB,MAAM,CAACkB,CAAC;AACzB;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAJIF,QAAQ;AAMd,MAAMG,iBAAiB,GAAGpB,MAAM,CAACU,GAAG;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACW,GAAA,GAxBID,iBAAiB;AA0BvB,MAAME,YAAY,GAAGtB,MAAM,CAACC,MAAM,CAACS,GAAG,CAAuB;AAC7D;AACA;AACA;AACA,qBAAqBa,KAAK,IAAIA,KAAK,CAACC,OAAO,GAAG,UAAU,GAAG,YAAY;AACvE,CAAC;AAACC,GAAA,GALIH,YAAY;AAOlB,MAAMI,aAAa,GAAG1B,MAAM,CAACU,GAAyB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIa,KAAK,IAAIA,KAAK,CAACC,OAAO,GAAG;AAC7B;AACA;AACA;AACA,GAAG,GAAG;AACN;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AAACG,GAAA,GAnBID,aAAa;AAqBnB,MAAME,sBAAsB,GAAG5B,MAAM,CAACU,GAAG;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACmB,GAAA,GArBID,sBAAsB;AAuB5B,MAAME,cAAc,GAAG9B,MAAM,CAACU,GAAG;AACjC;AACA;AACA;AACA,CAAC;AAACqB,GAAA,GAJID,cAAc;AAMpB,MAAME,YAAY,GAAGhC,MAAM,CAACU,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA,CAAC;AAACuB,GAAA,GANID,YAAY;AAQlB,MAAME,YAAY,GAAGlC,MAAM,CAACmC,QAAQ;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAvBIF,YAAY;AAyBlB,MAAMG,UAAU,GAAGrC,MAAM,CAACsC,MAA8B;AACxD;AACA;AACA;AACA,gBAAgBf,KAAK,IAAIA,KAAK,CAACgB,SAAS,GAAG,SAAS,GAAG,SAAS;AAChE,WAAWhB,KAAK,IAAIA,KAAK,CAACgB,SAAS,GAAG,SAAS,GAAG,SAAS;AAC3D;AACA,YAAYhB,KAAK,IAAIA,KAAK,CAACgB,SAAS,GAAG,aAAa,GAAG,SAAS;AAChE;AACA;AACA;AACA,kBAAkBhB,KAAK,IAAIA,KAAK,CAACgB,SAAS,GAAG,SAAS,GAAG,SAAS;AAClE;AACA,CAAC;AAACC,IAAA,GAbIH,UAAU;AAehB,MAAMI,WAAW,GAAGzC,MAAM,CAACU,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACgC,IAAA,GArBID,WAAW;AAuBjB,MAAME,cAAc,GAAG3C,MAAM,CAACU,GAAG;AACjC;AACA;AACA;AACA;AACA,CAAC;AAACkC,IAAA,GALID,cAAc;AAOpB,MAAME,aAAa,GAAG7C,MAAM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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}